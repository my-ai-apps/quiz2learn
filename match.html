<!--
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
-->
<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Voice-Controlled Teleprompter</title><style>body{margin:0;padding:20px;font-family:Arial,sans-serif;background:#1a1a1a;color:#fff;min-height:100vh;display:flex;flex-direction:column;align-items:center;overflow:hidden}.controls{position:fixed;top:0;left:0;right:0;padding:1rem;background:rgba(0,0,0,.8);display:flex;gap:1rem;justify-content:center;z-index:100;flex-wrap:wrap}button{padding:.5rem 1rem;background:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1rem}button:hover{background:#45a049}button:disabled{background:#ccc;cursor:not-allowed}.teleprompter-container{position:relative;height:calc(100vh - 150px);width:100%;max-width:800px;margin-top:80px;overflow:hidden}.teleprompter{position:absolute;width:100%;text-align:left;line-height:1.6;font-size:18px;padding:20px;transform:translateY(50vh)}.current-line{font-size:30px;background:rgba(255,255,255,.1);padding:10px;margin:20px 0;border-radius:4px}.current-word{font-size:45px;color:#4caf50}.keyword{font-weight:700;color:orange}#fileInput{display:none}textarea{width:100%;max-width:800px;height:120px;margin:20px 0;resize:none;font-size:1rem;font-family:Arial,sans-serif;padding:10px;border-radius:4px;border:none;box-shadow:0 0 5px rgba(255,255,255,.2);background:#333;color:#fff}.file-upload-label{padding:.5rem 1rem;background:#2196f3;color:#fff;border-radius:4px;cursor:pointer;font-size:1rem}.file-upload-label:hover{background:#1976d2}#status{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);padding:10px 20px;background:rgba(0,0,0,.8);border-radius:4px}@media (max-width:600px){.controls{flex-direction:column;align-items:stretch},#fileInput,.file-upload-label,button{width:90%;text-align:center;margin:.25rem 0}}</style></head><body><div class="controls"><label class="file-upload-label">Upload Text File <input type="file" id="fileInput" accept=".txt"></label> <button id="useTextBtn">Use Text Input</button> <button id="startBtn" disabled="disabled">Start Listening</button> <button id="resetBtn" disabled="disabled">Reset</button></div><div class="teleprompter-container"><div id="teleprompter" class="teleprompter"></div></div><textarea id="textInput" placeholder="Paste your text input here..."></textarea><div id="status">Waiting for input...</div><script>const fileInput=document.getElementById("fileInput"),textInput=document.getElementById("textInput"),useTextBtn=document.getElementById("useTextBtn"),startBtn=document.getElementById("startBtn"),resetBtn=document.getElementById("resetBtn"),teleprompter=document.getElementById("teleprompter"),status=document.getElementById("status");let recognition=null,isListening=!1,currentWordIndex=0,words=[],speechText="",keywordList=["important","crucial","significant","essential","key","vital","critical","fundamental","primary","major"];function isKeyword(t){return keywordList.some((e=>t.toLowerCase().includes(e.toLowerCase())||t.length>8||/^[A-Z].*[A-Z].*$/.test(t)))}function formatText(t){return speechText=t,words=t.split(/\s+/),words.map(((t,e)=>isKeyword(t)?`<span class="word" data-index="${e}"><strong class="keyword">${t}</strong></span>`:`<span class="word" data-index="${e}">${t}</span>`)).join(" ")}function updateDisplay(){const t=teleprompter.getElementsByClassName("word"),e=5*Math.floor(currentWordIndex/5),n=e+5;for(let r of t){const t=parseInt(r.dataset.index);r.classList.remove("current-word","current-line"),t===currentWordIndex&&r.classList.add("current-word"),t>=e&&t<n&&r.classList.add("current-line")}const r=teleprompter.querySelector(".current-word");if(r){const t=document.querySelector(".teleprompter-container"),e=r.offsetTop-t.clientHeight/2;teleprompter.style.transform=`translateY(${-e}px)`}}function initializeSpeechRecognition(){"webkitSpeechRecognition"in window?(recognition=new webkitSpeechRecognition,recognition.continuous=!0,recognition.interimResults=!0,recognition.onresult=t=>{const e=Array.from(t.results).map((t=>t[0].transcript.toLowerCase())).join(" ").split(/\s+/),n=e[e.length-1];for(let t=currentWordIndex;t<Math.min(currentWordIndex+5,words.length);t++)if(words[t].toLowerCase().includes(n)){currentWordIndex=t,updateDisplay();break}},recognition.onend=()=>{isListening&&recognition.start()},recognition.onerror=t=>{console.error("Speech recognition error:",t.error),status.textContent=`Error: ${t.error}`}):alert("Speech recognition is not supported in this browser. Please use Chrome.")}fileInput.addEventListener("change",(t=>{const e=t.target.files[0];if(e){const t=new FileReader;t.onload=t=>{const e=t.target.result;teleprompter.innerHTML=formatText(e),startBtn.disabled=!1,resetBtn.disabled=!1,currentWordIndex=0,updateDisplay(),status.textContent="Ready to start..."},t.readAsText(e)}})),startBtn.addEventListener("click",(()=>{recognition||initializeSpeechRecognition(),isListening?(isListening=!1,recognition.stop(),startBtn.textContent="Start Listening",status.textContent="Stopped listening"):(isListening=!0,recognition.start(),startBtn.textContent="Stop Listening",status.textContent="Listening...")})),resetBtn.addEventListener("click",(()=>{isListening&&(recognition.stop(),isListening=!1,startBtn.textContent="Start Listening"),currentWordIndex=0,updateDisplay(),status.textContent="Reset to beginning"})),useTextBtn.addEventListener("click",(()=>{const t=textInput.value.trim();t?(teleprompter.innerHTML=formatText(t),startBtn.disabled=!1,resetBtn.disabled=!1,currentWordIndex=0,updateDisplay(),status.textContent="Text input ready to use."):alert("Please enter some text in the input box.")})),resetBtn.addEventListener("click",(()=>{currentWordIndex=0,updateDisplay(),status.textContent="Reset to beginning."}))</script></body></html>