
/*!
Copyright © 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x37a109=_0xee73;function _0x56aa(){const _0x52c12b=['POST','ldvYI','display','parse','TLflq','AI\x20is\x20typing...','rcwzt','div','getItem','systemPrompt','UFbCa','topP','remove','Error:\x20Could\x20not\x20parse\x20JSON\x20response.','RqRbc','apiToken','typing-indicator','264131mKbxNZ','speak','DvtVl','content','PGjqZ','cbkeI','2981484DOrgBG','appendChild','zPqjU','Error:\x20Failed\x20to\x20fetch\x20AI\x20response:\x20','1250717DxRfJv','RvTrw','onload','sendMessage','scrollHeight','apiUrl','length','2999772wpNQVm','10302096qZBDGu','sk-proj-66666666666666666666666666666666','XLhpA','json_object','application/json','value','flex','maxTokens','setItem','scrollTop','jSZps','getElementById','TeCeE','user','ndodA','57592YKwACO','YHpem','jdBtw','chat-window','http://localhost:1234/v1','JivEb','openai/Qwen2.5','choices','settings','OmCZt','add','395GpKZEv','ZKhlU','kLRaQ','ssgNs','stringify','temperature','12zclRgx','/chat/completions','izfgJ','FKvKj','classList','whoUd','afTHi','style','createElement','AbxiU','message','cHaCu','vlNGy','en-US','ZKjtp','KtbdR','MqKlO','15770223ocGYOC','user-input','modelName'];_0x56aa=function(){return _0x52c12b;};return _0x56aa();}(function(_0x573ea5,_0x318126){const _0x409416=_0xee73,_0x28719c=_0x573ea5();while(!![]){try{const _0xf473a0=-parseInt(_0x409416(0x11f))/0x1+parseInt(_0x409416(0xcf))/0x2+-parseInt(_0x409416(0x11b))/0x3+parseInt(_0x409416(0xdf))/0x4*(parseInt(_0x409416(0xea))/0x5)+parseInt(_0x409416(0xf0))/0x6*(-parseInt(_0x409416(0x115))/0x7)+-parseInt(_0x409416(0xd0))/0x8+parseInt(_0x409416(0x101))/0x9;if(_0xf473a0===_0x318126)break;else _0x28719c['push'](_0x28719c['shift']());}catch(_0x4399c0){_0x28719c['push'](_0x28719c['shift']());}}}(_0x56aa,0xbedea));import _0x242cf8 from'./store.js';function _0xee73(_0x538cbc,_0x301c9d){const _0x56aa6c=_0x56aa();return _0xee73=function(_0xee7365,_0x439742){_0xee7365=_0xee7365-0xcb;let _0x5af75b=_0x56aa6c[_0xee7365];return _0x5af75b;},_0xee73(_0x538cbc,_0x301c9d);}const defaultSettings={'apiUrl':_0x37a109(0xe3),'apiToken':_0x37a109(0xd1),'modelName':_0x37a109(0xe5),'maxTokens':0x1000,'temperature':0.7,'topP':0x1,'systemPrompt':'Based\x20on\x20the\x20user’s\x20input,\x20determine\x20the\x20intended\x20quiz\x20topic.\x20Create\x20a\x20JSON\x20object\x20containing\x20a\x20set\x20of\x205\x20multiple-choice\x20questions\x20relevant\x20to\x20that\x20topic.\x20Each\x20question\x20should\x20include\x20the\x20fields\x20\x27question\x27\x20(the\x20quiz\x20question),\x20\x27options\x27\x20(single\x20answer\x20choice).\x20Format\x20the\x20output\x20to\x20the\x20pattern\x20below\x20{\x20\x27topic\x27:\x20\x27example_topic\x27,\x20\x27questions\x27:\x20[\x20{\x20\x27question\x27:\x20\x27Example\x20question?\x27,\x20\x27options\x27:\x20[\x27Option\x20A\x27],\x20\x27correctAnswer\x27:\x20\x27Option\x20B\x27\x20}\x20]\x20}'};let settings={...defaultSettings};function loadSettings(){const _0x1c72db=_0x37a109,_0x37c798={'ssgNs':_0x1c72db(0xcd),'YHpem':'apiToken','MqKlO':_0x1c72db(0xef),'izfgJ':_0x1c72db(0x10f),'UFbCa':_0x1c72db(0xd7)};settings[_0x1c72db(0xcd)]=_0x242cf8[_0x1c72db(0x10c)](_0x37c798[_0x1c72db(0xed)])||defaultSettings[_0x1c72db(0xcd)],settings[_0x1c72db(0x113)]=_0x242cf8[_0x1c72db(0x10c)](_0x37c798[_0x1c72db(0xe0)])||defaultSettings[_0x1c72db(0x113)],settings[_0x1c72db(0x103)]=_0x242cf8['getItem']('modelName')||defaultSettings[_0x1c72db(0x103)],settings[_0x1c72db(0xd7)]=_0x242cf8[_0x1c72db(0x10c)](_0x1c72db(0xd7))||defaultSettings[_0x1c72db(0xd7)],settings[_0x1c72db(0xef)]=_0x242cf8[_0x1c72db(0x10c)](_0x37c798[_0x1c72db(0x100)])||defaultSettings[_0x1c72db(0xef)],settings['topP']=_0x242cf8['getItem'](_0x37c798[_0x1c72db(0xf2)])||defaultSettings[_0x1c72db(0x10f)],settings['systemPrompt']=_0x242cf8[_0x1c72db(0x10c)](_0x1c72db(0x10d))||defaultSettings[_0x1c72db(0x10d)],document[_0x1c72db(0xdb)](_0x37c798[_0x1c72db(0xed)])[_0x1c72db(0xd5)]=settings[_0x1c72db(0xcd)],document[_0x1c72db(0xdb)](_0x37c798['YHpem'])[_0x1c72db(0xd5)]=settings[_0x1c72db(0x113)],document[_0x1c72db(0xdb)]('modelName')[_0x1c72db(0xd5)]=settings[_0x1c72db(0x103)],document[_0x1c72db(0xdb)](_0x37c798[_0x1c72db(0x10e)])[_0x1c72db(0xd5)]=settings['maxTokens'],document[_0x1c72db(0xdb)](_0x37c798[_0x1c72db(0x100)])['value']=settings[_0x1c72db(0xef)],document[_0x1c72db(0xdb)](_0x37c798['izfgJ'])['value']=settings[_0x1c72db(0x10f)],document[_0x1c72db(0xdb)](_0x1c72db(0x10d))['value']=settings[_0x1c72db(0x10d)];}function saveSettings(){const _0x5b48d7=_0x37a109,_0xa46320={'RvTrw':_0x5b48d7(0xcd),'DvtVl':_0x5b48d7(0x103),'KtbdR':_0x5b48d7(0x10f),'TeCeE':'systemPrompt','CpxHo':_0x5b48d7(0x113),'jdBtw':'temperature','AFPnb':function(_0x41cb50){return _0x41cb50();}};settings[_0x5b48d7(0xcd)]=document[_0x5b48d7(0xdb)](_0xa46320[_0x5b48d7(0x120)])[_0x5b48d7(0xd5)],settings[_0x5b48d7(0x113)]=document[_0x5b48d7(0xdb)]('apiToken')[_0x5b48d7(0xd5)],settings['modelName']=document[_0x5b48d7(0xdb)](_0xa46320[_0x5b48d7(0x117)])[_0x5b48d7(0xd5)],settings[_0x5b48d7(0xd7)]=document[_0x5b48d7(0xdb)](_0x5b48d7(0xd7))[_0x5b48d7(0xd5)],settings[_0x5b48d7(0xef)]=document[_0x5b48d7(0xdb)](_0x5b48d7(0xef))['value'],settings[_0x5b48d7(0x10f)]=document['getElementById'](_0xa46320[_0x5b48d7(0xff)])['value'],settings['systemPrompt']=document['getElementById'](_0xa46320[_0x5b48d7(0xdc)])['value'],_0x242cf8[_0x5b48d7(0xd8)](_0x5b48d7(0xcd),settings['apiUrl']),_0x242cf8[_0x5b48d7(0xd8)](_0xa46320['CpxHo'],settings[_0x5b48d7(0x113)]),_0x242cf8[_0x5b48d7(0xd8)](_0xa46320[_0x5b48d7(0x117)],settings[_0x5b48d7(0x103)]),_0x242cf8['setItem'](_0x5b48d7(0xd7),settings[_0x5b48d7(0xd7)]),_0x242cf8['setItem'](_0xa46320[_0x5b48d7(0xe1)],settings['temperature']),_0x242cf8['setItem'](_0xa46320['KtbdR'],settings['topP']),_0x242cf8[_0x5b48d7(0xd8)](_0xa46320[_0x5b48d7(0xdc)],settings[_0x5b48d7(0x10d)]),_0xa46320['AFPnb'](toggleSettings);}function toggleSettings(){const _0x5b6824=_0x37a109,_0x74e2e6={'KSQdd':function(_0x4a94fd,_0x59d287){return _0x4a94fd===_0x59d287;},'OmCZt':_0x5b6824(0xd6),'afTHi':'none'},_0x28c629=document[_0x5b6824(0xdb)](_0x5b6824(0xe7));_0x28c629['style'][_0x5b6824(0x106)]=_0x74e2e6['KSQdd'](_0x28c629[_0x5b6824(0xf7)][_0x5b6824(0x106)],_0x74e2e6[_0x5b6824(0xe8)])?_0x74e2e6[_0x5b6824(0xf6)]:_0x74e2e6[_0x5b6824(0xe8)];}window['toggleSettings']=toggleSettings,window[_0x37a109(0xcb)]=sendMessage;async function sendMessage(){const _0x9562e7=_0x37a109,_0x10fdc5={'AbxiU':_0x9562e7(0x102),'TLflq':function(_0x2ff745,_0x4238c0,_0x262a76){return _0x2ff745(_0x4238c0,_0x262a76);},'cHaCu':_0x9562e7(0x104),'vlNGy':_0x9562e7(0xd4),'PGjqZ':'system','HHKEV':_0x9562e7(0xdd),'PtlBA':function(_0x32f2e6,_0x1f5fd7){return _0x32f2e6(_0x1f5fd7);},'zPqjU':function(_0x3c361b,_0x32c5cc){return _0x3c361b(_0x32c5cc);},'XLhpA':function(_0x4915c1){return _0x4915c1();},'whoUd':function(_0x296fd0,_0x56fdab,_0xa8dc0b){return _0x296fd0(_0x56fdab,_0xa8dc0b);},'rcwzt':_0x9562e7(0x111),'kLRaQ':function(_0x58df3b,_0x1e3045){return _0x58df3b+_0x1e3045;},'ldvYI':_0x9562e7(0x11e)},_0x5dda8b=document[_0x9562e7(0xdb)](_0x10fdc5[_0x9562e7(0xf9)])['value'];if(!_0x5dda8b)return;appendMessage(_0x5dda8b,_0x9562e7(0xdd)),document[_0x9562e7(0xdb)](_0x10fdc5[_0x9562e7(0xf9)])['value']='',showTypingIndicator();try{const _0x31b6d2=await _0x10fdc5[_0x9562e7(0x108)](fetch,settings[_0x9562e7(0xcd)]+_0x9562e7(0xf1),{'method':_0x10fdc5[_0x9562e7(0xfb)],'headers':{'Authorization':'Bearer\x20'+settings['apiToken'],'Content-Type':_0x10fdc5[_0x9562e7(0xfc)]},'body':JSON[_0x9562e7(0xee)]({'model':settings[_0x9562e7(0x103)],'messages':[{'role':_0x10fdc5[_0x9562e7(0x119)],'content':settings['systemPrompt']},{'role':_0x10fdc5['HHKEV'],'content':_0x5dda8b}],'max_tokens':_0x10fdc5['PtlBA'](parseInt,settings[_0x9562e7(0xd7)]),'temperature':_0x10fdc5['zPqjU'](parseFloat,settings[_0x9562e7(0xef)]),'top_p':parseFloat(settings[_0x9562e7(0x10f)]),'frequency_penalty':0.5,'seed':0x1,'response_format':{'type':_0x9562e7(0xd3)}})}),_0x114da0=await _0x31b6d2['json']();_0x10fdc5['XLhpA'](hideTypingIndicator);if(_0x114da0['choices']&&_0x114da0[_0x9562e7(0xe6)][_0x9562e7(0xce)]>0x0){const _0x347404=_0x114da0[_0x9562e7(0xe6)][0x0]['message'][_0x9562e7(0x118)];_0x10fdc5[_0x9562e7(0x108)](appendMessage,_0x347404,'ai');let _0x5d4a29;try{_0x5d4a29=JSON[_0x9562e7(0x107)](_0x347404),_0x10fdc5[_0x9562e7(0x11d)](appendQuiz,_0x5d4a29);}catch(_0x4b2a44){_0x10fdc5[_0x9562e7(0xf5)](appendMessage,_0x10fdc5[_0x9562e7(0x10a)],'ai');}}}catch(_0x56c883){_0x10fdc5[_0x9562e7(0x108)](appendMessage,_0x10fdc5[_0x9562e7(0xec)](_0x10fdc5[_0x9562e7(0x105)],_0x56c883[_0x9562e7(0xfa)]),'ai');}finally{_0x10fdc5[_0x9562e7(0xd2)](hideTypingIndicator);}}function appendMessage(_0x2f3d2c,_0x54402a){const _0x2f3a61=_0x37a109,_0x2721f1={'ZKjtp':_0x2f3a61(0x10b),'cbkeI':_0x2f3a61(0x118),'jSZps':_0x2f3a61(0xe2)},_0x24c93f=document[_0x2f3a61(0xf8)](_0x2721f1[_0x2f3a61(0xfe)]);_0x24c93f[_0x2f3a61(0xf4)][_0x2f3a61(0xe9)](_0x2f3a61(0xfa),_0x54402a);const _0x2d5f2d=document[_0x2f3a61(0xf8)](_0x2721f1[_0x2f3a61(0xfe)]);_0x2d5f2d[_0x2f3a61(0xf4)][_0x2f3a61(0xe9)](_0x2721f1[_0x2f3a61(0x11a)]),_0x2d5f2d['textContent']=_0x2f3d2c,_0x24c93f[_0x2f3a61(0x11c)](_0x2d5f2d),document['getElementById'](_0x2721f1[_0x2f3a61(0xda)])[_0x2f3a61(0x11c)](_0x24c93f),document[_0x2f3a61(0xdb)](_0x2721f1[_0x2f3a61(0xda)])['scrollTop']=document[_0x2f3a61(0xdb)](_0x2721f1[_0x2f3a61(0xda)])[_0x2f3a61(0xcc)];}function showTypingIndicator(){const _0x4e9e5e=_0x37a109,_0x5e0d8b={'ndodA':_0x4e9e5e(0x114),'JivEb':_0x4e9e5e(0x109),'FKvKj':'chat-window'},_0x32b408=document[_0x4e9e5e(0xf8)](_0x4e9e5e(0x10b));_0x32b408[_0x4e9e5e(0xf4)][_0x4e9e5e(0xe9)](_0x5e0d8b['ndodA']),_0x32b408['id']=_0x5e0d8b[_0x4e9e5e(0xde)],_0x32b408['textContent']=_0x5e0d8b[_0x4e9e5e(0xe4)],document[_0x4e9e5e(0xdb)](_0x5e0d8b['FKvKj'])[_0x4e9e5e(0x11c)](_0x32b408),document['getElementById'](_0x5e0d8b[_0x4e9e5e(0xf3)])[_0x4e9e5e(0xd9)]=document['getElementById'](_0x4e9e5e(0xe2))[_0x4e9e5e(0xcc)];}function hideTypingIndicator(){const _0x381adb=_0x37a109,_0x2c6ce4={'ZKhlU':_0x381adb(0x114)},_0x23b915=document[_0x381adb(0xdb)](_0x2c6ce4[_0x381adb(0xeb)]);if(_0x23b915)_0x23b915[_0x381adb(0x110)]();}function speakMessage(_0x54d23f){const _0x23aec7=_0x37a109,_0x3be946={'RqRbc':_0x23aec7(0xfd)},_0x5b99d5=new SpeechSynthesisUtterance(_0x54d23f);_0x5b99d5['lang']=_0x3be946[_0x23aec7(0x112)],window['speechSynthesis'][_0x23aec7(0x116)](_0x5b99d5);}window[_0x37a109(0x121)]=loadSettings;