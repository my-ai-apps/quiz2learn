
/*!
Copyright © 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x57ed0b=_0x5b05;(function(_0x4beffa,_0x2960ff){const _0x4dc137=_0x5b05,_0x3223c9=_0x4beffa();while(!![]){try{const _0x4a838d=-parseInt(_0x4dc137(0x12c))/0x1*(-parseInt(_0x4dc137(0x102))/0x2)+-parseInt(_0x4dc137(0x120))/0x3*(-parseInt(_0x4dc137(0x11a))/0x4)+-parseInt(_0x4dc137(0xe7))/0x5*(parseInt(_0x4dc137(0x107))/0x6)+parseInt(_0x4dc137(0x13d))/0x7+-parseInt(_0x4dc137(0x118))/0x8+-parseInt(_0x4dc137(0xfe))/0x9+parseInt(_0x4dc137(0x12a))/0xa;if(_0x4a838d===_0x2960ff)break;else _0x3223c9['push'](_0x3223c9['shift']());}catch(_0x452fb8){_0x3223c9['push'](_0x3223c9['shift']());}}}(_0x2545,0xb3331));import _0xb3df9e from'./store.js';const defaultSettings={'apiUrl':_0x57ed0b(0x103),'apiToken':'sk-proj-66666666666666666666666666666666','modelName':_0x57ed0b(0xfd),'maxTokens':0x1000,'temperature':0.7,'topP':0x1,'systemPrompt':_0x57ed0b(0x114)};let settings={...defaultSettings};function _0x2545(){const _0x308060=['3|10|1|7|12|9|13|0|6|11|14|8|4|5|2','application/json','display','json_object','choices','PGhWB','lang','tfRuY','kbEjN','2133985WQrrTE','cGBPb','chat-window','style','73535YyArmX','zxerm','YcguA','getItem','json','maxTokens','Error:\x20Failed\x20to\x20fetch\x20AI\x20response:\x20','classList','NlFAF','GmAwA','apiUrl','scrollTop','DLRsk','setItem','/chat/completions','QfQHe','rtaQT','user-input','length','none','div','lRNPq','openai/Qwen2.5','8382780eboQbY','POST','value','SfRqK','124wtGXBj','http://localhost:1234/v1','Bearer\x20','flex','AzMSR','102RAjyED','add','stringify','systemPrompt','CsDsE','IVIDJ','system','FGNbz','appendChild','typing-indicator','onload','GjUqH','temperature','Based\x20on\x20the\x20user’s\x20input,\x20determine\x20the\x20intended\x20quiz\x20topic.\x20Create\x20a\x20JSON\x20object\x20containing\x20a\x20set\x20of\x205\x20multiple-choice\x20questions\x20relevant\x20to\x20that\x20topic.\x20Each\x20question\x20should\x20include\x20the\x20fields\x20\x27question\x27\x20(the\x20quiz\x20question),\x20\x27options\x27\x20(single\x20answer\x20choice).\x20Format\x20the\x20output\x20to\x20the\x20pattern\x20below\x20{\x20\x27topic\x27:\x20\x27example_topic\x27,\x20\x27questions\x27:\x20[\x20{\x20\x27question\x27:\x20\x27Example\x20question?\x27,\x20\x27options\x27:\x20[\x27Option\x20A\x27],\x20\x27correctAnswer\x27:\x20\x27Option\x20B\x27\x20}\x20]\x20}','OGJpj','scrollHeight','WtSzJ','6801328BGdQow','oAqLc','189496dbXCaj','toggleSettings','speechSynthesis','qEygn','Error:\x20Could\x20not\x20parse\x20JSON\x20response.','XQzPu','45wzmlLg','CNodV','settings','split','speak','ICurc','parse','apiToken','qfPei','message','14321430twiGlu','topP','5129TEVLOu','modelName','kzHTl','createElement','remove','textContent','getElementById','content'];_0x2545=function(){return _0x308060;};return _0x2545();}function loadSettings(){const _0x2a70ef=_0x57ed0b,_0x289ad2={'kzHTl':_0x2a70ef(0x127),'kbEjN':_0x2a70ef(0x12d),'CsDsE':_0x2a70ef(0xec),'cODwJ':_0x2a70ef(0x113),'tfRuY':_0x2a70ef(0x10a),'zxerm':_0x2a70ef(0xf1),'oAqLc':_0x2a70ef(0x12b)};settings[_0x2a70ef(0xf1)]=_0xb3df9e[_0x2a70ef(0xea)]('apiUrl')||defaultSettings[_0x2a70ef(0xf1)],settings[_0x2a70ef(0x127)]=_0xb3df9e[_0x2a70ef(0xea)](_0x289ad2[_0x2a70ef(0x12e)])||defaultSettings[_0x2a70ef(0x127)],settings['modelName']=_0xb3df9e[_0x2a70ef(0xea)](_0x289ad2[_0x2a70ef(0x13c)])||defaultSettings['modelName'],settings[_0x2a70ef(0xec)]=_0xb3df9e[_0x2a70ef(0xea)](_0x289ad2['CsDsE'])||defaultSettings[_0x2a70ef(0xec)],settings[_0x2a70ef(0x113)]=_0xb3df9e[_0x2a70ef(0xea)](_0x289ad2['cODwJ'])||defaultSettings['temperature'],settings[_0x2a70ef(0x12b)]=_0xb3df9e[_0x2a70ef(0xea)](_0x2a70ef(0x12b))||defaultSettings[_0x2a70ef(0x12b)],settings[_0x2a70ef(0x10a)]=_0xb3df9e[_0x2a70ef(0xea)](_0x289ad2['tfRuY'])||defaultSettings[_0x2a70ef(0x10a)],document[_0x2a70ef(0x132)](_0x289ad2[_0x2a70ef(0xe8)])[_0x2a70ef(0x100)]=settings['apiUrl'],document[_0x2a70ef(0x132)](_0x289ad2[_0x2a70ef(0x12e)])[_0x2a70ef(0x100)]=settings[_0x2a70ef(0x127)],document[_0x2a70ef(0x132)](_0x2a70ef(0x12d))[_0x2a70ef(0x100)]=settings[_0x2a70ef(0x12d)],document[_0x2a70ef(0x132)](_0x289ad2[_0x2a70ef(0x10b)])[_0x2a70ef(0x100)]=settings['maxTokens'],document['getElementById'](_0x289ad2['cODwJ'])[_0x2a70ef(0x100)]=settings[_0x2a70ef(0x113)],document['getElementById'](_0x289ad2[_0x2a70ef(0x119)])[_0x2a70ef(0x100)]=settings['topP'],document[_0x2a70ef(0x132)](_0x289ad2[_0x2a70ef(0x13b)])[_0x2a70ef(0x100)]=settings[_0x2a70ef(0x10a)];}function saveSettings(){const _0x3c15f4=_0x57ed0b,_0x16c17c={'DLRsk':_0x3c15f4(0xf1),'lRNPq':_0x3c15f4(0x12d),'ATXVL':function(_0x121f8a){return _0x121f8a();},'PGhWB':'systemPrompt','qEygn':_0x3c15f4(0x127),'CNodV':_0x3c15f4(0xec),'uGHdQ':_0x3c15f4(0x113)},_0x259c94=_0x3c15f4(0x134)[_0x3c15f4(0x123)]('|');let _0x1bf9c0=0x0;while(!![]){switch(_0x259c94[_0x1bf9c0++]){case'0':_0xb3df9e[_0x3c15f4(0xf4)](_0x16c17c[_0x3c15f4(0xf3)],settings['apiUrl']);continue;case'1':settings[_0x3c15f4(0x12d)]=document[_0x3c15f4(0x132)](_0x16c17c[_0x3c15f4(0xfc)])['value'];continue;case'2':_0x16c17c['ATXVL'](toggleSettings);continue;case'3':settings[_0x3c15f4(0xf1)]=document['getElementById'](_0x16c17c['DLRsk'])['value'];continue;case'4':_0xb3df9e[_0x3c15f4(0xf4)](_0x3c15f4(0x12b),settings['topP']);continue;case'5':_0xb3df9e[_0x3c15f4(0xf4)](_0x16c17c[_0x3c15f4(0x139)],settings['systemPrompt']);continue;case'6':_0xb3df9e[_0x3c15f4(0xf4)](_0x16c17c[_0x3c15f4(0x11d)],settings[_0x3c15f4(0x127)]);continue;case'7':settings[_0x3c15f4(0xec)]=document['getElementById'](_0x16c17c[_0x3c15f4(0x121)])[_0x3c15f4(0x100)];continue;case'8':_0xb3df9e[_0x3c15f4(0xf4)](_0x16c17c['uGHdQ'],settings['temperature']);continue;case'9':settings['topP']=document['getElementById'](_0x3c15f4(0x12b))['value'];continue;case'10':settings[_0x3c15f4(0x127)]=document['getElementById'](_0x16c17c[_0x3c15f4(0x11d)])[_0x3c15f4(0x100)];continue;case'11':_0xb3df9e[_0x3c15f4(0xf4)](_0x16c17c[_0x3c15f4(0xfc)],settings[_0x3c15f4(0x12d)]);continue;case'12':settings[_0x3c15f4(0x113)]=document['getElementById'](_0x16c17c['uGHdQ'])[_0x3c15f4(0x100)];continue;case'13':settings[_0x3c15f4(0x10a)]=document[_0x3c15f4(0x132)](_0x16c17c[_0x3c15f4(0x139)])[_0x3c15f4(0x100)];continue;case'14':_0xb3df9e[_0x3c15f4(0xf4)](_0x16c17c[_0x3c15f4(0x121)],settings[_0x3c15f4(0xec)]);continue;}break;}}function _0x5b05(_0x38174f,_0x1b3ea3){const _0x2545db=_0x2545();return _0x5b05=function(_0x5b0506,_0x20d386){_0x5b0506=_0x5b0506-0xe6;let _0x43275c=_0x2545db[_0x5b0506];return _0x43275c;},_0x5b05(_0x38174f,_0x1b3ea3);}function toggleSettings(){const _0x5958d9=_0x57ed0b,_0xecb817={'oAodp':_0x5958d9(0x122),'GmAwA':function(_0x1ad991,_0x1b247e){return _0x1ad991===_0x1b247e;},'cGBPb':_0x5958d9(0xfa),'OTWxk':_0x5958d9(0x105)},_0x2c7f02=document['getElementById'](_0xecb817['oAodp']);_0x2c7f02[_0x5958d9(0xe6)][_0x5958d9(0x136)]=_0xecb817[_0x5958d9(0xf0)](_0x2c7f02[_0x5958d9(0xe6)][_0x5958d9(0x136)],_0x5958d9(0x105))?_0xecb817[_0x5958d9(0x13e)]:_0xecb817['OTWxk'];}window[_0x57ed0b(0x11b)]=toggleSettings,window['sendMessage']=sendMessage;async function sendMessage(){const _0x2ea326=_0x57ed0b,_0x11a364={'rtaQT':'user','qfPei':_0x2ea326(0xf8),'QfQHe':function(_0x28fbaf){return _0x28fbaf();},'AzMSR':function(_0x407886,_0x42effd,_0x578b56){return _0x407886(_0x42effd,_0x578b56);},'FGNbz':_0x2ea326(0x135),'ICurc':_0x2ea326(0x10d),'WtSzJ':function(_0x165c98,_0x59e844){return _0x165c98(_0x59e844);},'XQzPu':_0x2ea326(0x137),'SfRqK':function(_0x52bed7,_0x249ee8){return _0x52bed7>_0x249ee8;},'NlFAF':_0x2ea326(0x11e),'fZESp':function(_0x5ce881,_0x9ebe54){return _0x5ce881+_0x9ebe54;},'BgtsH':_0x2ea326(0xed)},_0x55987c=document[_0x2ea326(0x132)](_0x2ea326(0xf8))['value'];if(!_0x55987c)return;appendMessage(_0x55987c,_0x11a364[_0x2ea326(0xf7)]),document[_0x2ea326(0x132)](_0x11a364[_0x2ea326(0x128)])['value']='',_0x11a364[_0x2ea326(0xf6)](showTypingIndicator);try{const _0x3dda41=await _0x11a364[_0x2ea326(0x106)](fetch,settings[_0x2ea326(0xf1)]+_0x2ea326(0xf5),{'method':_0x2ea326(0xff),'headers':{'Authorization':_0x2ea326(0x104)+settings['apiToken'],'Content-Type':_0x11a364[_0x2ea326(0x10e)]},'body':JSON[_0x2ea326(0x109)]({'model':settings[_0x2ea326(0x12d)],'messages':[{'role':_0x11a364[_0x2ea326(0x125)],'content':settings[_0x2ea326(0x10a)]},{'role':_0x11a364[_0x2ea326(0xf7)],'content':_0x55987c}],'max_tokens':parseInt(settings[_0x2ea326(0xec)]),'temperature':parseFloat(settings['temperature']),'top_p':_0x11a364[_0x2ea326(0x117)](parseFloat,settings[_0x2ea326(0x12b)]),'frequency_penalty':0.5,'seed':0x1,'response_format':{'type':_0x11a364[_0x2ea326(0x11f)]}})}),_0x5822b3=await _0x3dda41[_0x2ea326(0xeb)]();hideTypingIndicator();if(_0x5822b3[_0x2ea326(0x138)]&&_0x11a364[_0x2ea326(0x101)](_0x5822b3[_0x2ea326(0x138)][_0x2ea326(0xf9)],0x0)){const _0x5910db=_0x5822b3[_0x2ea326(0x138)][0x0][_0x2ea326(0x129)][_0x2ea326(0x133)];_0x11a364[_0x2ea326(0x106)](appendMessage,_0x5910db,'ai');let _0x20e572;try{_0x20e572=JSON[_0x2ea326(0x126)](_0x5910db),_0x11a364[_0x2ea326(0x117)](appendQuiz,_0x20e572);}catch(_0x13e6c7){appendMessage(_0x11a364[_0x2ea326(0xef)],'ai');}}}catch(_0x3c25c9){appendMessage(_0x11a364['fZESp'](_0x11a364['BgtsH'],_0x3c25c9[_0x2ea326(0x129)]),'ai');}finally{hideTypingIndicator();}}function appendMessage(_0x191776,_0x3761af){const _0x37e0a5=_0x57ed0b,_0x11aaee={'GjUqH':_0x37e0a5(0xfb),'OGJpj':_0x37e0a5(0x129),'oxMbw':_0x37e0a5(0x13f)},_0xa5786a=document[_0x37e0a5(0x12f)](_0x11aaee[_0x37e0a5(0x112)]);_0xa5786a[_0x37e0a5(0xee)][_0x37e0a5(0x108)](_0x11aaee[_0x37e0a5(0x115)],_0x3761af);const _0x51ab44=document['createElement'](_0x11aaee[_0x37e0a5(0x112)]);_0x51ab44['classList'][_0x37e0a5(0x108)](_0x37e0a5(0x133)),_0x51ab44[_0x37e0a5(0x131)]=_0x191776,_0xa5786a['appendChild'](_0x51ab44),document[_0x37e0a5(0x132)]('chat-window')[_0x37e0a5(0x10f)](_0xa5786a),document[_0x37e0a5(0x132)](_0x11aaee['oxMbw'])[_0x37e0a5(0xf2)]=document['getElementById'](_0x37e0a5(0x13f))[_0x37e0a5(0x116)];}function showTypingIndicator(){const _0x9fc970=_0x57ed0b,_0x2f3607={'VMsID':'div','YcguA':_0x9fc970(0x110),'IVIDJ':_0x9fc970(0x13f)},_0x4df16b=document[_0x9fc970(0x12f)](_0x2f3607['VMsID']);_0x4df16b[_0x9fc970(0xee)][_0x9fc970(0x108)](_0x2f3607['YcguA']),_0x4df16b['id']=_0x2f3607[_0x9fc970(0xe9)],_0x4df16b['textContent']='AI\x20is\x20typing...',document[_0x9fc970(0x132)](_0x2f3607[_0x9fc970(0x10c)])[_0x9fc970(0x10f)](_0x4df16b),document['getElementById'](_0x9fc970(0x13f))[_0x9fc970(0xf2)]=document[_0x9fc970(0x132)](_0x2f3607[_0x9fc970(0x10c)])[_0x9fc970(0x116)];}function hideTypingIndicator(){const _0x175d50=_0x57ed0b,_0x78743a=document['getElementById'](_0x175d50(0x110));if(_0x78743a)_0x78743a[_0x175d50(0x130)]();}function speakMessage(_0x4c565e){const _0x1a6df3=_0x57ed0b,_0x2bf77f=new SpeechSynthesisUtterance(_0x4c565e);_0x2bf77f[_0x1a6df3(0x13a)]='en-US',window[_0x1a6df3(0x11c)][_0x1a6df3(0x124)](_0x2bf77f);}window[_0x57ed0b(0x111)]=loadSettings;