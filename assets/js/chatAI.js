
/*!
Copyright © 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x5be229=_0x58c2;function _0x3c38(){const _0x2802ea=['GuPeZ','EqsXM','tFUVP','length','split','1826yeVDEl','choices','speak','appendChild','4770680AuMZjz','XfSiV','Error:\x20Could\x20not\x20parse\x20JSON\x20response.','settings','mwCem','uQTPL','scrollHeight','application/json','Based\x20on\x20the\x20user’s\x20input,\x20determine\x20the\x20intended\x20quiz\x20topic.\x20Create\x20a\x20JSON\x20object\x20containing\x20a\x20set\x20of\x205\x20multiple-choice\x20questions\x20relevant\x20to\x20that\x20topic.\x20Each\x20question\x20should\x20include\x20the\x20fields\x20\x27question\x27\x20(the\x20quiz\x20question),\x20\x27options\x27\x20(single\x20answer\x20choice).\x20Format\x20the\x20output\x20to\x20the\x20pattern\x20below\x20{\x20\x27topic\x27:\x20\x27example_topic\x27,\x20\x27questions\x27:\x20[\x20{\x20\x27question\x27:\x20\x27Example\x20question?\x27,\x20\x27options\x27:\x20[\x27Option\x20A\x27],\x20\x27correctAnswer\x27:\x20\x27Option\x20B\x27\x20}\x20]\x20}','classList','UUIHq','919752qtVHrE','DuREe','puSMK','AdjdD','WqWQs','en-US','uRqvx','apiToken','hofQK','rdSGa','topP','Error:\x20Failed\x20to\x20fetch\x20AI\x20response:\x20','value','WKiAZ','json','FGeMT','VjbMR','modelName','VmUTW','2432pAFFNO','AI\x20is\x20typing...','ietns','KJUMr','24QgyIzy','sendMessage','XVXty','FghyO','speechSynthesis','temperature','content','AZCog','getElementById','227972jtAUjv','openai/Qwen2.5','message','user-input','6XCSBdH','lzodn','remove','RgFsm','setItem','flex','1049895iGEhmQ','div','style','srgca','34070YGXkPs','http://localhost:1234/v1','Bearer\x20','chat-window','12|7|3|10|8|1|4|5|9|14|2|11|0|6|13','PkaLu','add','scrollTop','user','textContent','rLSGp','YduVd','6525lELFRG','apiUrl','DAjeb','POST','99707EyKIRH','giHgZ','/chat/completions','maxTokens','systemPrompt','typing-indicator','getItem','nxgjG','json_object','hTqwf','system','createElement'];_0x3c38=function(){return _0x2802ea;};return _0x3c38();}(function(_0x4dc56f,_0xc91ba0){const _0x418d44=_0x58c2,_0x51e11d=_0x4dc56f();while(!![]){try{const _0x583eed=parseInt(_0x418d44(0xb0))/0x1+-parseInt(_0x418d44(0xd0))/0x2+parseInt(_0x418d44(0x89))/0x3*(-parseInt(_0x418d44(0x92))/0x4)+parseInt(_0x418d44(0xc5))/0x5*(parseInt(_0x418d44(0x96))/0x6)+parseInt(_0x418d44(0x9c))/0x7+parseInt(_0x418d44(0x85))/0x8*(-parseInt(_0x418d44(0xac))/0x9)+parseInt(_0x418d44(0xa0))/0xa*(parseInt(_0x418d44(0xc1))/0xb);if(_0x583eed===_0xc91ba0)break;else _0x51e11d['push'](_0x51e11d['shift']());}catch(_0x24da94){_0x51e11d['push'](_0x51e11d['shift']());}}}(_0x3c38,0x9a952));import _0x3d77d2 from'./store.js';const defaultSettings={'apiUrl':_0x5be229(0xa1),'apiToken':'sk-proj-66666666666666666666666666666666','modelName':_0x5be229(0x93),'maxTokens':0x1000,'temperature':0.7,'topP':0x1,'systemPrompt':_0x5be229(0xcd)};let settings={...defaultSettings};function loadSettings(){const _0x3f1a9=_0x5be229,_0x4ccdcc={'uQTPL':'apiUrl','hTqwf':'apiToken','hofQK':'modelName','WKiAZ':_0x3f1a9(0xb3),'DpjtY':'temperature','DAjeb':_0x3f1a9(0x7c),'RgFsm':_0x3f1a9(0xb4)};settings[_0x3f1a9(0xad)]=_0x3d77d2[_0x3f1a9(0xb6)](_0x4ccdcc['uQTPL'])||defaultSettings[_0x3f1a9(0xad)],settings['apiToken']=_0x3d77d2[_0x3f1a9(0xb6)](_0x4ccdcc[_0x3f1a9(0xb9)])||defaultSettings[_0x3f1a9(0xd7)],settings[_0x3f1a9(0x83)]=_0x3d77d2[_0x3f1a9(0xb6)](_0x4ccdcc[_0x3f1a9(0xd8)])||defaultSettings['modelName'],settings[_0x3f1a9(0xb3)]=_0x3d77d2['getItem'](_0x4ccdcc[_0x3f1a9(0x7f)])||defaultSettings['maxTokens'],settings[_0x3f1a9(0x8e)]=_0x3d77d2[_0x3f1a9(0xb6)](_0x4ccdcc['DpjtY'])||defaultSettings[_0x3f1a9(0x8e)],settings[_0x3f1a9(0x7c)]=_0x3d77d2[_0x3f1a9(0xb6)](_0x4ccdcc[_0x3f1a9(0xae)])||defaultSettings[_0x3f1a9(0x7c)],settings[_0x3f1a9(0xb4)]=_0x3d77d2[_0x3f1a9(0xb6)](_0x3f1a9(0xb4))||defaultSettings[_0x3f1a9(0xb4)],document[_0x3f1a9(0x91)](_0x4ccdcc[_0x3f1a9(0xca)])['value']=settings[_0x3f1a9(0xad)],document[_0x3f1a9(0x91)](_0x4ccdcc['hTqwf'])['value']=settings['apiToken'],document[_0x3f1a9(0x91)](_0x3f1a9(0x83))[_0x3f1a9(0x7e)]=settings[_0x3f1a9(0x83)],document[_0x3f1a9(0x91)](_0x4ccdcc['WKiAZ'])['value']=settings[_0x3f1a9(0xb3)],document[_0x3f1a9(0x91)](_0x4ccdcc['DpjtY'])[_0x3f1a9(0x7e)]=settings[_0x3f1a9(0x8e)],document[_0x3f1a9(0x91)](_0x4ccdcc[_0x3f1a9(0xae)])['value']=settings[_0x3f1a9(0x7c)],document['getElementById'](_0x4ccdcc[_0x3f1a9(0x99)])[_0x3f1a9(0x7e)]=settings[_0x3f1a9(0xb4)];}function saveSettings(){const _0x246296=_0x5be229,_0x28f42a={'SCosg':_0x246296(0xa4),'puSMK':_0x246296(0x7c),'PkaLu':'maxTokens','VjbMR':_0x246296(0x83),'FghyO':'systemPrompt','nxgjG':'apiUrl','AZCog':_0x246296(0xd7),'ietns':_0x246296(0x8e),'mwCem':function(_0x2a490b){return _0x2a490b();}},_0x29b7c7=_0x28f42a['SCosg'][_0x246296(0xc0)]('|');let _0x7974d8=0x0;while(!![]){switch(_0x29b7c7[_0x7974d8++]){case'0':_0x3d77d2['setItem'](_0x28f42a[_0x246296(0xd2)],settings['topP']);continue;case'1':settings[_0x246296(0x7c)]=document['getElementById'](_0x28f42a[_0x246296(0xd2)])[_0x246296(0x7e)];continue;case'2':_0x3d77d2['setItem'](_0x28f42a[_0x246296(0xa5)],settings[_0x246296(0xb3)]);continue;case'3':settings['modelName']=document[_0x246296(0x91)](_0x28f42a[_0x246296(0x82)])['value'];continue;case'4':settings['systemPrompt']=document[_0x246296(0x91)](_0x28f42a[_0x246296(0x8c)])['value'];continue;case'5':_0x3d77d2[_0x246296(0x9a)](_0x28f42a[_0x246296(0xb7)],settings[_0x246296(0xad)]);continue;case'6':_0x3d77d2[_0x246296(0x9a)](_0x28f42a['FghyO'],settings[_0x246296(0xb4)]);continue;case'7':settings[_0x246296(0xd7)]=document['getElementById'](_0x28f42a[_0x246296(0x90)])[_0x246296(0x7e)];continue;case'8':settings[_0x246296(0x8e)]=document['getElementById'](_0x28f42a[_0x246296(0x87)])['value'];continue;case'9':_0x3d77d2[_0x246296(0x9a)](_0x28f42a[_0x246296(0x90)],settings[_0x246296(0xd7)]);continue;case'10':settings[_0x246296(0xb3)]=document[_0x246296(0x91)](_0x28f42a['PkaLu'])[_0x246296(0x7e)];continue;case'11':_0x3d77d2[_0x246296(0x9a)](_0x246296(0x8e),settings['temperature']);continue;case'12':settings[_0x246296(0xad)]=document[_0x246296(0x91)](_0x28f42a[_0x246296(0xb7)])['value'];continue;case'13':_0x28f42a[_0x246296(0xc9)](toggleSettings);continue;case'14':_0x3d77d2[_0x246296(0x9a)](_0x28f42a[_0x246296(0x82)],settings['modelName']);continue;}break;}}function toggleSettings(){const _0x71c45=_0x5be229,_0x232145={'DuREe':_0x71c45(0xc8),'tebRM':_0x71c45(0x9b)},_0x5e9595=document[_0x71c45(0x91)](_0x232145[_0x71c45(0xd1)]);_0x5e9595[_0x71c45(0x9e)]['display']=_0x5e9595['style']['display']===_0x232145['tebRM']?'none':_0x71c45(0x9b);}window['toggleSettings']=toggleSettings,window[_0x5be229(0x8a)]=sendMessage;async function sendMessage(){const _0x3857de=_0x5be229,_0x494758={'GuPeZ':_0x3857de(0x95),'FGeMT':function(_0x44c31d,_0x2d19bf,_0x1339d3){return _0x44c31d(_0x2d19bf,_0x1339d3);},'KJUMr':_0x3857de(0xa8),'rLSGp':function(_0xd1c4b2){return _0xd1c4b2();},'srgca':function(_0x35aad6,_0x5216ec,_0x54f4a4){return _0x35aad6(_0x5216ec,_0x54f4a4);},'WqWQs':_0x3857de(0xaf),'giHgZ':_0x3857de(0xcc),'VmUTW':_0x3857de(0xba),'tFUVP':function(_0x1f2c23,_0x17b439){return _0x1f2c23(_0x17b439);},'uRqvx':function(_0xb48349,_0x1ac9c5){return _0xb48349>_0x1ac9c5;},'XfSiV':function(_0x2ab85c,_0x56c644,_0x4cb71a){return _0x2ab85c(_0x56c644,_0x4cb71a);},'VnDnm':function(_0x487dbb,_0x291142){return _0x487dbb(_0x291142);},'YduVd':_0x3857de(0xc7),'JEKiZ':function(_0x351eef,_0x5bd118){return _0x351eef+_0x5bd118;},'CMOWR':_0x3857de(0x7d)},_0xa5a52=document[_0x3857de(0x91)](_0x494758[_0x3857de(0xbc)])[_0x3857de(0x7e)];if(!_0xa5a52)return;_0x494758[_0x3857de(0x81)](appendMessage,_0xa5a52,_0x494758[_0x3857de(0x88)]),document['getElementById'](_0x494758[_0x3857de(0xbc)])[_0x3857de(0x7e)]='',_0x494758[_0x3857de(0xaa)](showTypingIndicator);try{const _0x17b886=await _0x494758[_0x3857de(0x9f)](fetch,settings[_0x3857de(0xad)]+_0x3857de(0xb2),{'method':_0x494758[_0x3857de(0xd4)],'headers':{'Authorization':_0x3857de(0xa2)+settings['apiToken'],'Content-Type':_0x494758[_0x3857de(0xb1)]},'body':JSON['stringify']({'model':settings[_0x3857de(0x83)],'messages':[{'role':_0x494758[_0x3857de(0x84)],'content':settings[_0x3857de(0xb4)]},{'role':_0x3857de(0xa8),'content':_0xa5a52}],'max_tokens':parseInt(settings['maxTokens']),'temperature':_0x494758[_0x3857de(0xbe)](parseFloat,settings[_0x3857de(0x8e)]),'top_p':parseFloat(settings['topP']),'frequency_penalty':0.5,'seed':0x1,'response_format':{'type':_0x3857de(0xb8)}})}),_0xbb800d=await _0x17b886[_0x3857de(0x80)]();_0x494758[_0x3857de(0xaa)](hideTypingIndicator);if(_0xbb800d[_0x3857de(0xc2)]&&_0x494758[_0x3857de(0xd6)](_0xbb800d[_0x3857de(0xc2)][_0x3857de(0xbf)],0x0)){const _0x183a2f=_0xbb800d[_0x3857de(0xc2)][0x0][_0x3857de(0x94)][_0x3857de(0x8f)];_0x494758[_0x3857de(0xc6)](appendMessage,_0x183a2f,'ai');let _0xfdf2f6;try{_0xfdf2f6=JSON['parse'](_0x183a2f),_0x494758['VnDnm'](appendQuiz,_0xfdf2f6);}catch(_0xfe4ff3){_0x494758[_0x3857de(0x9f)](appendMessage,_0x494758[_0x3857de(0xab)],'ai');}}}catch(_0x42286e){appendMessage(_0x494758['JEKiZ'](_0x494758['CMOWR'],_0x42286e[_0x3857de(0x94)]),'ai');}finally{_0x494758[_0x3857de(0xaa)](hideTypingIndicator);}}function appendMessage(_0x189f0f,_0x66adea){const _0x1d9481=_0x5be229,_0x195c11={'XVXty':_0x1d9481(0x9d),'AdjdD':_0x1d9481(0x94),'XknWt':_0x1d9481(0x8f),'EqsXM':'chat-window'},_0x3418d9=document[_0x1d9481(0xbb)](_0x195c11[_0x1d9481(0x8b)]);_0x3418d9[_0x1d9481(0xce)][_0x1d9481(0xa6)](_0x195c11[_0x1d9481(0xd3)],_0x66adea);const _0x1ec8f0=document['createElement'](_0x195c11[_0x1d9481(0x8b)]);_0x1ec8f0[_0x1d9481(0xce)]['add'](_0x195c11['XknWt']),_0x1ec8f0[_0x1d9481(0xa9)]=_0x189f0f,_0x3418d9[_0x1d9481(0xc4)](_0x1ec8f0),document[_0x1d9481(0x91)](_0x195c11[_0x1d9481(0xbd)])['appendChild'](_0x3418d9),document[_0x1d9481(0x91)](_0x195c11[_0x1d9481(0xbd)])[_0x1d9481(0xa7)]=document[_0x1d9481(0x91)]('chat-window')[_0x1d9481(0xcb)];}function showTypingIndicator(){const _0x2147be=_0x5be229,_0x11c9e2={'TJlOY':'typing-indicator','lzodn':_0x2147be(0x86),'qBJhP':_0x2147be(0xa3)},_0x46e928=document[_0x2147be(0xbb)](_0x2147be(0x9d));_0x46e928['classList'][_0x2147be(0xa6)](_0x11c9e2['TJlOY']),_0x46e928['id']=_0x11c9e2['TJlOY'],_0x46e928[_0x2147be(0xa9)]=_0x11c9e2[_0x2147be(0x97)],document[_0x2147be(0x91)](_0x11c9e2['qBJhP'])[_0x2147be(0xc4)](_0x46e928),document[_0x2147be(0x91)](_0x2147be(0xa3))['scrollTop']=document[_0x2147be(0x91)](_0x11c9e2['qBJhP'])[_0x2147be(0xcb)];}function hideTypingIndicator(){const _0x2b533c=_0x5be229,_0x11993e={'UUIHq':_0x2b533c(0xb5)},_0x5518e5=document[_0x2b533c(0x91)](_0x11993e[_0x2b533c(0xcf)]);if(_0x5518e5)_0x5518e5[_0x2b533c(0x98)]();}function _0x58c2(_0x531b6c,_0x20d99b){const _0x3c3817=_0x3c38();return _0x58c2=function(_0x58c263,_0x42d1e5){_0x58c263=_0x58c263-0x7b;let _0x39fb71=_0x3c3817[_0x58c263];return _0x39fb71;},_0x58c2(_0x531b6c,_0x20d99b);}function speakMessage(_0x2970a6){const _0x314adf=_0x5be229,_0x5958ad={'rdSGa':_0x314adf(0xd5)},_0x1ba475=new SpeechSynthesisUtterance(_0x2970a6);_0x1ba475['lang']=_0x5958ad[_0x314adf(0x7b)],window[_0x314adf(0x8d)][_0x314adf(0xc3)](_0x1ba475);}window['onload']=loadSettings;