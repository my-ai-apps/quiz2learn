
/*!
Copyright © 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x4926e6=_0x3a95;function _0x3a95(_0x49d430,_0x38e0f8){const _0x11004e=_0x1100();return _0x3a95=function(_0x3a9578,_0x9d1d){_0x3a9578=_0x3a9578-0xe3;let _0x2bce1d=_0x11004e[_0x3a9578];return _0x2bce1d;},_0x3a95(_0x49d430,_0x38e0f8);}(function(_0x5ce930,_0x52bfaa){const _0x227dae=_0x3a95,_0x405d8c=_0x5ce930();while(!![]){try{const _0x5e870a=-parseInt(_0x227dae(0x12e))/0x1+-parseInt(_0x227dae(0x13d))/0x2+-parseInt(_0x227dae(0x137))/0x3*(parseInt(_0x227dae(0x115))/0x4)+parseInt(_0x227dae(0x128))/0x5*(parseInt(_0x227dae(0x13c))/0x6)+-parseInt(_0x227dae(0x11d))/0x7*(-parseInt(_0x227dae(0x100))/0x8)+-parseInt(_0x227dae(0x10f))/0x9*(parseInt(_0x227dae(0xfe))/0xa)+parseInt(_0x227dae(0xee))/0xb;if(_0x5e870a===_0x52bfaa)break;else _0x405d8c['push'](_0x405d8c['shift']());}catch(_0x510cc4){_0x405d8c['push'](_0x405d8c['shift']());}}}(_0x1100,0x948e9));import _0x532af from'./store.js';const defaultSettings={'apiUrl':_0x4926e6(0x104),'apiToken':_0x4926e6(0x139),'modelName':_0x4926e6(0x120),'maxTokens':0x1000,'temperature':0.7,'topP':0x1,'systemPrompt':_0x4926e6(0x10e)};let settings={...defaultSettings};function loadSettings(){const _0x5dfe4f=_0x4926e6,_0x3ec580={'KVwfD':_0x5dfe4f(0x110),'quPRn':_0x5dfe4f(0x134),'JCRcY':_0x5dfe4f(0x132),'sEkLu':_0x5dfe4f(0x12f),'QITQY':_0x5dfe4f(0xe9),'zXBsC':_0x5dfe4f(0xe5),'daRDg':_0x5dfe4f(0x11e)},_0x3295c0='6|4|9|1|7|12|2|0|13|11|3|5|10|8'[_0x5dfe4f(0x101)]('|');let _0x2aa2ee=0x0;while(!![]){switch(_0x3295c0[_0x2aa2ee++]){case'0':document[_0x5dfe4f(0x125)](_0x3ec580[_0x5dfe4f(0x107)])[_0x5dfe4f(0x117)]=settings[_0x5dfe4f(0x110)];continue;case'1':settings[_0x5dfe4f(0x134)]=_0x532af[_0x5dfe4f(0x10a)](_0x3ec580[_0x5dfe4f(0x103)])||defaultSettings['maxTokens'];continue;case'2':settings['systemPrompt']=_0x532af[_0x5dfe4f(0x10a)]('systemPrompt')||defaultSettings[_0x5dfe4f(0xe9)];continue;case'3':document[_0x5dfe4f(0x125)](_0x3ec580[_0x5dfe4f(0x103)])[_0x5dfe4f(0x117)]=settings[_0x5dfe4f(0x134)];continue;case'4':settings[_0x5dfe4f(0x132)]=_0x532af[_0x5dfe4f(0x10a)](_0x3ec580[_0x5dfe4f(0x133)])||defaultSettings[_0x5dfe4f(0x132)];continue;case'5':document['getElementById'](_0x3ec580[_0x5dfe4f(0x10b)])['value']=settings[_0x5dfe4f(0x12f)];continue;case'6':settings[_0x5dfe4f(0x110)]=_0x532af[_0x5dfe4f(0x10a)](_0x3ec580[_0x5dfe4f(0x107)])||defaultSettings[_0x5dfe4f(0x110)];continue;case'7':settings['temperature']=_0x532af[_0x5dfe4f(0x10a)](_0x5dfe4f(0x12f))||defaultSettings[_0x5dfe4f(0x12f)];continue;case'8':document[_0x5dfe4f(0x125)](_0x3ec580['QITQY'])[_0x5dfe4f(0x117)]=settings[_0x5dfe4f(0xe9)];continue;case'9':settings[_0x5dfe4f(0xe5)]=_0x532af['getItem'](_0x3ec580['zXBsC'])||defaultSettings[_0x5dfe4f(0xe5)];continue;case'10':document[_0x5dfe4f(0x125)](_0x3ec580[_0x5dfe4f(0xff)])[_0x5dfe4f(0x117)]=settings['topP'];continue;case'11':document['getElementById'](_0x3ec580['zXBsC'])['value']=settings['modelName'];continue;case'12':settings[_0x5dfe4f(0x11e)]=_0x532af['getItem'](_0x3ec580['daRDg'])||defaultSettings[_0x5dfe4f(0x11e)];continue;case'13':document[_0x5dfe4f(0x125)](_0x5dfe4f(0x132))[_0x5dfe4f(0x117)]=settings['apiToken'];continue;}break;}}function saveSettings(){const _0x1bb9ff=_0x4926e6,_0x397072={'oBkYD':_0x1bb9ff(0x114),'YIBGS':_0x1bb9ff(0xe5),'ybEbt':_0x1bb9ff(0x110),'RWsPo':_0x1bb9ff(0xe9),'zMhim':_0x1bb9ff(0x134),'mMNez':_0x1bb9ff(0x132),'YKhLg':_0x1bb9ff(0x11e)},_0x1acc00=_0x397072[_0x1bb9ff(0xe7)][_0x1bb9ff(0x101)]('|');let _0x42ce19=0x0;while(!![]){switch(_0x1acc00[_0x42ce19++]){case'0':_0x532af[_0x1bb9ff(0x136)](_0x1bb9ff(0x12f),settings[_0x1bb9ff(0x12f)]);continue;case'1':_0x532af[_0x1bb9ff(0x136)](_0x397072[_0x1bb9ff(0x118)],settings[_0x1bb9ff(0xe5)]);continue;case'2':settings[_0x1bb9ff(0x110)]=document[_0x1bb9ff(0x125)](_0x397072[_0x1bb9ff(0x111)])['value'];continue;case'3':settings[_0x1bb9ff(0xe9)]=document['getElementById'](_0x397072['RWsPo'])[_0x1bb9ff(0x117)];continue;case'4':settings[_0x1bb9ff(0x12f)]=document[_0x1bb9ff(0x125)]('temperature')['value'];continue;case'5':_0x532af[_0x1bb9ff(0x136)]('systemPrompt',settings[_0x1bb9ff(0xe9)]);continue;case'6':_0x532af[_0x1bb9ff(0x136)](_0x397072[_0x1bb9ff(0x113)],settings[_0x1bb9ff(0x134)]);continue;case'7':settings[_0x1bb9ff(0x132)]=document[_0x1bb9ff(0x125)](_0x1bb9ff(0x132))[_0x1bb9ff(0x117)];continue;case'8':_0x532af['setItem'](_0x397072[_0x1bb9ff(0x138)],settings[_0x1bb9ff(0x132)]);continue;case'9':toggleSettings();continue;case'10':settings[_0x1bb9ff(0x134)]=document['getElementById'](_0x1bb9ff(0x134))[_0x1bb9ff(0x117)];continue;case'11':_0x532af[_0x1bb9ff(0x136)](_0x397072['ybEbt'],settings[_0x1bb9ff(0x110)]);continue;case'12':settings[_0x1bb9ff(0xe5)]=document[_0x1bb9ff(0x125)](_0x397072['YIBGS'])[_0x1bb9ff(0x117)];continue;case'13':_0x532af['setItem'](_0x397072['YKhLg'],settings[_0x1bb9ff(0x11e)]);continue;case'14':settings[_0x1bb9ff(0x11e)]=document[_0x1bb9ff(0x125)](_0x397072[_0x1bb9ff(0xf5)])['value'];continue;}break;}}function toggleSettings(){const _0x189337=_0x4926e6,_0x112b16={'MiAFo':'settings','AcPDE':function(_0x5ec09f,_0x5c5cfc){return _0x5ec09f===_0x5c5cfc;},'wZeBL':_0x189337(0xf3),'egPsD':_0x189337(0x130)},_0x7a2f57=document[_0x189337(0x125)](_0x112b16[_0x189337(0x119)]);_0x7a2f57[_0x189337(0x131)][_0x189337(0xea)]=_0x112b16[_0x189337(0xe3)](_0x7a2f57[_0x189337(0x131)][_0x189337(0xea)],_0x189337(0x130))?_0x112b16['wZeBL']:_0x112b16['egPsD'];}window[_0x4926e6(0x121)]=toggleSettings,window[_0x4926e6(0xfa)]=sendMessage;async function sendMessage(){const _0x53f6b1=_0x4926e6,_0x382003={'podqq':'user-input','URsve':function(_0x5a180f,_0x2bb4ae,_0x327730){return _0x5a180f(_0x2bb4ae,_0x327730);},'IiYEU':'user','NRREp':function(_0x10272d){return _0x10272d();},'KPJcu':function(_0x471b0f,_0x284760,_0xe02d8a){return _0x471b0f(_0x284760,_0xe02d8a);},'YnHkt':'POST','bJsfI':_0x53f6b1(0x109),'dTHsC':'system','IbqOl':function(_0x553e70,_0x497ff3){return _0x553e70(_0x497ff3);},'gsKxL':_0x53f6b1(0x11f),'HACzj':function(_0x211e8a,_0x458676){return _0x211e8a>_0x458676;},'GTPXP':function(_0x32049c,_0x3ec7ad){return _0x32049c(_0x3ec7ad);},'cxost':'Error:\x20Could\x20not\x20parse\x20JSON\x20response.','KgpkU':function(_0x5badd3,_0x16df05,_0x372e03){return _0x5badd3(_0x16df05,_0x372e03);},'XSkpC':'Error:\x20Failed\x20to\x20fetch\x20AI\x20response:\x20'},_0x376c25=document[_0x53f6b1(0x125)](_0x382003[_0x53f6b1(0x127)])[_0x53f6b1(0x117)];if(!_0x376c25)return;_0x382003['URsve'](appendMessage,_0x376c25,_0x382003[_0x53f6b1(0x11c)]),document[_0x53f6b1(0x125)](_0x382003[_0x53f6b1(0x127)])[_0x53f6b1(0x117)]='',_0x382003[_0x53f6b1(0x10c)](showTypingIndicator);try{const _0x10c47a=await _0x382003['KPJcu'](fetch,settings[_0x53f6b1(0x110)]+_0x53f6b1(0xfd),{'method':_0x382003[_0x53f6b1(0x106)],'headers':{'Authorization':_0x53f6b1(0x108)+settings[_0x53f6b1(0x132)],'Content-Type':_0x382003[_0x53f6b1(0x126)]},'body':JSON[_0x53f6b1(0x12c)]({'model':settings[_0x53f6b1(0xe5)],'messages':[{'role':_0x382003[_0x53f6b1(0xe8)],'content':settings[_0x53f6b1(0xe9)]},{'role':_0x382003[_0x53f6b1(0x11c)],'content':_0x376c25}],'max_tokens':_0x382003[_0x53f6b1(0xf9)](parseInt,settings[_0x53f6b1(0x134)]),'temperature':parseFloat(settings[_0x53f6b1(0x12f)]),'top_p':parseFloat(settings[_0x53f6b1(0x11e)]),'frequency_penalty':0.5,'seed':0x1,'response_format':{'type':_0x382003[_0x53f6b1(0xf6)]}})}),_0x4d6e6d=await _0x10c47a['json']();_0x382003[_0x53f6b1(0x10c)](hideTypingIndicator);if(_0x4d6e6d[_0x53f6b1(0x122)]&&_0x382003[_0x53f6b1(0xe6)](_0x4d6e6d[_0x53f6b1(0x122)][_0x53f6b1(0xf7)],0x0)){const _0xb8b0d4=_0x4d6e6d[_0x53f6b1(0x122)][0x0][_0x53f6b1(0xf0)]['content'];_0x382003[_0x53f6b1(0xf1)](appendMessage,_0xb8b0d4,'ai');let _0x1dd1bf;try{_0x1dd1bf=JSON[_0x53f6b1(0xed)](_0xb8b0d4),_0x382003[_0x53f6b1(0x12a)](appendQuiz,_0x1dd1bf);}catch(_0x2e2130){_0x382003['KPJcu'](appendMessage,_0x382003['cxost'],'ai');}}}catch(_0x40ba66){_0x382003['KgpkU'](appendMessage,_0x382003[_0x53f6b1(0x13b)]+_0x40ba66['message'],'ai');}finally{hideTypingIndicator();}}function appendMessage(_0x58aced,_0x3ff590){const _0x232c48=_0x4926e6,_0x52c526={'RghXw':_0x232c48(0xf0),'DOzrU':_0x232c48(0x129),'kLKZJ':_0x232c48(0x11a),'Qldoz':_0x232c48(0x116)},_0x2a2bd1=document[_0x232c48(0xec)](_0x232c48(0x129));_0x2a2bd1[_0x232c48(0x105)][_0x232c48(0x102)](_0x52c526[_0x232c48(0xf8)],_0x3ff590);const _0x16375d=document[_0x232c48(0xec)](_0x52c526[_0x232c48(0x12b)]);_0x16375d[_0x232c48(0x105)][_0x232c48(0x102)](_0x52c526[_0x232c48(0x124)]),_0x16375d[_0x232c48(0x10d)]=_0x58aced,_0x2a2bd1[_0x232c48(0xfc)](_0x16375d),document[_0x232c48(0x125)](_0x52c526[_0x232c48(0xfb)])[_0x232c48(0xfc)](_0x2a2bd1),document[_0x232c48(0x125)](_0x52c526['Qldoz'])[_0x232c48(0x123)]=document[_0x232c48(0x125)]('chat-window')[_0x232c48(0x11b)];}function showTypingIndicator(){const _0x178494=_0x4926e6,_0x34a40b={'qnoPz':_0x178494(0xe4),'GHJUw':'AI\x20is\x20typing...','WGToJ':_0x178494(0x116)},_0x1a6d19=document[_0x178494(0xec)](_0x178494(0x129));_0x1a6d19[_0x178494(0x105)][_0x178494(0x102)](_0x34a40b[_0x178494(0xef)]),_0x1a6d19['id']=_0x34a40b[_0x178494(0xef)],_0x1a6d19[_0x178494(0x10d)]=_0x34a40b['GHJUw'],document['getElementById'](_0x178494(0x116))['appendChild'](_0x1a6d19),document['getElementById'](_0x34a40b[_0x178494(0x13a)])[_0x178494(0x123)]=document['getElementById'](_0x34a40b[_0x178494(0x13a)])[_0x178494(0x11b)];}function hideTypingIndicator(){const _0x17a5dd=_0x4926e6,_0x40589e={'pesNJ':_0x17a5dd(0xe4)},_0x155f71=document[_0x17a5dd(0x125)](_0x40589e['pesNJ']);if(_0x155f71)_0x155f71[_0x17a5dd(0x12d)]();}function _0x1100(){const _0x202340=['IbqOl','sendMessage','Qldoz','appendChild','/chat/completions','10KIpfXq','daRDg','4613560IhetRf','split','add','quPRn','http://localhost:1234/v1','classList','YnHkt','KVwfD','Bearer\x20','application/json','getItem','sEkLu','NRREp','textContent','Based\x20on\x20the\x20user’s\x20input,\x20determine\x20the\x20intended\x20quiz\x20topic.\x20Create\x20a\x20JSON\x20object\x20containing\x20a\x20set\x20of\x205\x20multiple-choice\x20questions\x20relevant\x20to\x20that\x20topic.\x20Each\x20question\x20should\x20include\x20the\x20fields\x20\x27question\x27\x20(the\x20quiz\x20question),\x20\x27options\x27\x20(single\x20answer\x20choice).\x20Format\x20the\x20output\x20to\x20the\x20pattern\x20below\x20{\x20\x27topic\x27:\x20\x27example_topic\x27,\x20\x27questions\x27:\x20[\x20{\x20\x27question\x27:\x20\x27Example\x20question?\x27,\x20\x27options\x27:\x20[\x27Option\x20A\x27],\x20\x27correctAnswer\x27:\x20\x27Option\x20B\x27\x20}\x20]\x20}','8413038fSoJuW','apiUrl','ybEbt','lang','zMhim','2|7|12|10|4|14|3|11|8|1|6|0|13|5|9','140356hyjNWn','chat-window','value','YIBGS','MiAFo','content','scrollHeight','IiYEU','7vpJYSq','topP','json_object','openai/Qwen2.5','toggleSettings','choices','scrollTop','kLKZJ','getElementById','bJsfI','podqq','160zivrpj','div','GTPXP','DOzrU','stringify','remove','883753UyPbpw','temperature','flex','style','apiToken','JCRcY','maxTokens','WwYqr','setItem','45URZuIo','mMNez','sk-proj-66666666666666666666666666666666','WGToJ','XSkpC','126354BJbzcz','2016366QTnzpl','AcPDE','typing-indicator','modelName','HACzj','oBkYD','dTHsC','systemPrompt','display','en-US','createElement','parse','29820549quYHqA','qnoPz','message','KPJcu','onload','none','speechSynthesis','YKhLg','gsKxL','length','RghXw'];_0x1100=function(){return _0x202340;};return _0x1100();}function speakMessage(_0x58b057){const _0x426f30=_0x4926e6,_0x5733f7={'WwYqr':_0x426f30(0xeb)},_0x1d4799=new SpeechSynthesisUtterance(_0x58b057);_0x1d4799[_0x426f30(0x112)]=_0x5733f7[_0x426f30(0x135)],window[_0x426f30(0xf4)]['speak'](_0x1d4799);}window[_0x4926e6(0xf2)]=loadSettings;