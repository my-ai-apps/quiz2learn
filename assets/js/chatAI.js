
/*!
Copyright © 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x25cea7=_0x485b;(function(_0x4c6a28,_0x38303e){const _0x2bdc5a=_0x485b,_0x11f867=_0x4c6a28();while(!![]){try{const _0x2ac48d=parseInt(_0x2bdc5a(0x218))/0x1+-parseInt(_0x2bdc5a(0x1d7))/0x2+-parseInt(_0x2bdc5a(0x213))/0x3+parseInt(_0x2bdc5a(0x1fe))/0x4*(parseInt(_0x2bdc5a(0x1c9))/0x5)+-parseInt(_0x2bdc5a(0x1c5))/0x6*(-parseInt(_0x2bdc5a(0x1e1))/0x7)+parseInt(_0x2bdc5a(0x1ee))/0x8+parseInt(_0x2bdc5a(0x1d2))/0x9;if(_0x2ac48d===_0x38303e)break;else _0x11f867['push'](_0x11f867['shift']());}catch(_0x5d97d7){_0x11f867['push'](_0x11f867['shift']());}}}(_0x3259,0x59565));import _0x4f236a from'./store.js';const defaultSettings={'apiUrl':_0x25cea7(0x216),'apiToken':_0x25cea7(0x1ce),'modelName':'openai/Qwen2.5','maxTokens':0x1000,'temperature':0.7,'topP':0x1,'systemPrompt':_0x25cea7(0x20d)};let settings={...defaultSettings};function loadSettings(){const _0xc41878=_0x25cea7,_0x4dde70={'nJoSI':_0xc41878(0x200),'pmVUn':'temperature','KFsxT':_0xc41878(0x203),'qCqWs':_0xc41878(0x1e7),'oVlyy':_0xc41878(0x1e9),'LBayF':_0xc41878(0x215),'KMjCE':_0xc41878(0x1ec),'nUSeQ':_0xc41878(0x1f2)},_0x1b94f8=_0x4dde70[_0xc41878(0x1cc)][_0xc41878(0x1d3)]('|');let _0x4430a9=0x0;while(!![]){switch(_0x1b94f8[_0x4430a9++]){case'0':settings[_0xc41878(0x208)]=_0x4f236a[_0xc41878(0x1ca)](_0x4dde70[_0xc41878(0x21a)])||defaultSettings[_0xc41878(0x208)];continue;case'1':document[_0xc41878(0x1c7)](_0x4dde70[_0xc41878(0x20c)])[_0xc41878(0x21b)]=settings[_0xc41878(0x203)];continue;case'2':settings[_0xc41878(0x1e7)]=_0x4f236a[_0xc41878(0x1ca)](_0x4dde70['qCqWs'])||defaultSettings['apiUrl'];continue;case'3':document[_0xc41878(0x1c7)](_0x4dde70[_0xc41878(0x21a)])['value']=settings[_0xc41878(0x208)];continue;case'4':settings[_0xc41878(0x1e9)]=_0x4f236a[_0xc41878(0x1ca)](_0x4dde70[_0xc41878(0x21e)])||defaultSettings['modelName'];continue;case'5':document[_0xc41878(0x1c7)](_0x4dde70[_0xc41878(0x1d4)])[_0xc41878(0x21b)]=settings[_0xc41878(0x215)];continue;case'6':settings[_0xc41878(0x215)]=_0x4f236a[_0xc41878(0x1ca)]('topP')||defaultSettings[_0xc41878(0x215)];continue;case'7':document[_0xc41878(0x1c7)](_0x4dde70[_0xc41878(0x1fd)])[_0xc41878(0x21b)]=settings['systemPrompt'];continue;case'8':settings[_0xc41878(0x203)]=_0x4f236a[_0xc41878(0x1ca)](_0x4dde70['KFsxT'])||defaultSettings[_0xc41878(0x203)];continue;case'9':document[_0xc41878(0x1c7)](_0x4dde70[_0xc41878(0x1cf)])[_0xc41878(0x21b)]=settings[_0xc41878(0x1f2)];continue;case'10':settings[_0xc41878(0x1f2)]=_0x4f236a[_0xc41878(0x1ca)](_0x4dde70[_0xc41878(0x1cf)])||defaultSettings[_0xc41878(0x1f2)];continue;case'11':document[_0xc41878(0x1c7)]('apiUrl')[_0xc41878(0x21b)]=settings[_0xc41878(0x1e7)];continue;case'12':document[_0xc41878(0x1c7)](_0x4dde70[_0xc41878(0x21e)])[_0xc41878(0x21b)]=settings[_0xc41878(0x1e9)];continue;case'13':settings[_0xc41878(0x1ec)]=_0x4f236a[_0xc41878(0x1ca)](_0x4dde70[_0xc41878(0x1fd)])||defaultSettings[_0xc41878(0x1ec)];continue;}break;}}function saveSettings(){const _0x44563f=_0x25cea7,_0x31f138={'PrVmu':_0x44563f(0x1f8),'uLYxt':_0x44563f(0x1f2),'lOOHG':_0x44563f(0x203),'NDRIw':_0x44563f(0x1e9),'RPozj':'apiUrl','IEvMQ':'topP','wRWkO':function(_0x5e79e8){return _0x5e79e8();},'moMGC':_0x44563f(0x208),'kzwym':_0x44563f(0x1ec)},_0x4597f3=_0x31f138[_0x44563f(0x1e5)][_0x44563f(0x1d3)]('|');let _0x7e90e6=0x0;while(!![]){switch(_0x4597f3[_0x7e90e6++]){case'0':settings['maxTokens']=document['getElementById'](_0x31f138[_0x44563f(0x1fc)])[_0x44563f(0x21b)];continue;case'1':settings[_0x44563f(0x208)]=document[_0x44563f(0x1c7)](_0x44563f(0x208))[_0x44563f(0x21b)];continue;case'2':_0x4f236a[_0x44563f(0x1be)](_0x31f138['lOOHG'],settings[_0x44563f(0x203)]);continue;case'3':settings['topP']=document[_0x44563f(0x1c7)](_0x44563f(0x215))['value'];continue;case'4':_0x4f236a['setItem'](_0x31f138[_0x44563f(0x1c3)],settings[_0x44563f(0x1e9)]);continue;case'5':settings[_0x44563f(0x1e7)]=document[_0x44563f(0x1c7)](_0x31f138[_0x44563f(0x214)])['value'];continue;case'6':settings['modelName']=document[_0x44563f(0x1c7)](_0x31f138[_0x44563f(0x1c3)])[_0x44563f(0x21b)];continue;case'7':_0x4f236a[_0x44563f(0x1be)](_0x31f138['IEvMQ'],settings[_0x44563f(0x215)]);continue;case'8':settings['apiToken']=document[_0x44563f(0x1c7)](_0x31f138[_0x44563f(0x20e)])[_0x44563f(0x21b)];continue;case'9':_0x31f138[_0x44563f(0x1d9)](toggleSettings);continue;case'10':_0x4f236a[_0x44563f(0x1be)](_0x31f138['uLYxt'],settings[_0x44563f(0x1f2)]);continue;case'11':_0x4f236a[_0x44563f(0x1be)](_0x31f138['moMGC'],settings[_0x44563f(0x208)]);continue;case'12':_0x4f236a[_0x44563f(0x1be)](_0x31f138['RPozj'],settings['apiUrl']);continue;case'13':settings[_0x44563f(0x1ec)]=document[_0x44563f(0x1c7)](_0x44563f(0x1ec))[_0x44563f(0x21b)];continue;case'14':_0x4f236a[_0x44563f(0x1be)](_0x31f138[_0x44563f(0x1eb)],settings[_0x44563f(0x1ec)]);continue;}break;}}function toggleSettings(){const _0x11480b=_0x25cea7,_0x2872e1={'kqIKe':_0x11480b(0x1e2),'OLsmQ':'flex','JTkcR':'none'},_0x58a056=document[_0x11480b(0x1c7)](_0x2872e1[_0x11480b(0x1cb)]);_0x58a056[_0x11480b(0x1db)][_0x11480b(0x1c6)]=_0x58a056[_0x11480b(0x1db)][_0x11480b(0x1c6)]===_0x2872e1['OLsmQ']?_0x2872e1[_0x11480b(0x20b)]:_0x2872e1[_0x11480b(0x201)];}window[_0x25cea7(0x211)]=toggleSettings,window[_0x25cea7(0x1dd)]=sendMessage;async function sendMessage(){const _0x21c081=_0x25cea7,_0x40bbf0={'gXNSa':_0x21c081(0x1d0),'JyXnt':function(_0x12390,_0x3ac6e0,_0x10b0ea){return _0x12390(_0x3ac6e0,_0x10b0ea);},'KbuKg':function(_0x59b2d8){return _0x59b2d8();},'JbWAC':_0x21c081(0x1fb),'sLnGa':_0x21c081(0x21c),'rpXOs':function(_0x4022c8,_0x4025c2){return _0x4022c8(_0x4025c2);},'Dhlog':_0x21c081(0x1df),'xLbEn':function(_0xe27693,_0x4ab46a){return _0xe27693>_0x4ab46a;},'pPfHT':function(_0x512804,_0x485982,_0x50b577){return _0x512804(_0x485982,_0x50b577);},'XVsCV':_0x21c081(0x21d),'hUOCa':function(_0x4b22e0,_0x26a899){return _0x4b22e0+_0x26a899;},'HYost':_0x21c081(0x1c0),'ZAxwD':function(_0xb2e6b9){return _0xb2e6b9();}},_0x426b4b=document[_0x21c081(0x1c7)](_0x40bbf0[_0x21c081(0x1e8)])['value'];if(!_0x426b4b)return;_0x40bbf0[_0x21c081(0x209)](appendMessage,_0x426b4b,_0x21c081(0x1d5)),document[_0x21c081(0x1c7)](_0x40bbf0[_0x21c081(0x1e8)])[_0x21c081(0x21b)]='',_0x40bbf0['KbuKg'](showTypingIndicator);try{const _0x494e5b=await _0x40bbf0[_0x21c081(0x209)](fetch,settings['apiUrl']+'/chat/completions',{'method':_0x40bbf0[_0x21c081(0x1e6)],'headers':{'Authorization':_0x21c081(0x207)+settings[_0x21c081(0x203)],'Content-Type':_0x21c081(0x1de)},'body':JSON[_0x21c081(0x202)]({'model':settings[_0x21c081(0x1e9)],'messages':[{'role':_0x40bbf0[_0x21c081(0x1e0)],'content':settings[_0x21c081(0x1ec)]},{'role':'user','content':_0x426b4b}],'max_tokens':_0x40bbf0[_0x21c081(0x1e4)](parseInt,settings[_0x21c081(0x1f2)]),'temperature':parseFloat(settings[_0x21c081(0x208)]),'top_p':_0x40bbf0['rpXOs'](parseFloat,settings[_0x21c081(0x215)]),'frequency_penalty':0.5,'seed':0x1,'response_format':{'type':_0x40bbf0['Dhlog']}})}),_0x1437c3=await _0x494e5b[_0x21c081(0x1fa)]();hideTypingIndicator();if(_0x1437c3[_0x21c081(0x1f5)]&&_0x40bbf0[_0x21c081(0x1ed)](_0x1437c3[_0x21c081(0x1f5)][_0x21c081(0x1f4)],0x0)){const _0x1167d8=_0x1437c3[_0x21c081(0x1f5)][0x0][_0x21c081(0x1f0)][_0x21c081(0x205)];_0x40bbf0['pPfHT'](appendMessage,_0x1167d8,'ai');let _0x11fb70;try{_0x11fb70=JSON[_0x21c081(0x1ff)](_0x1167d8),appendQuiz(_0x11fb70);}catch(_0x49388a){_0x40bbf0[_0x21c081(0x1da)](appendMessage,_0x40bbf0[_0x21c081(0x1c1)],'ai');}}}catch(_0x39d8d6){appendMessage(_0x40bbf0[_0x21c081(0x219)](_0x40bbf0['HYost'],_0x39d8d6['message']),'ai');}finally{_0x40bbf0[_0x21c081(0x204)](hideTypingIndicator);}}function _0x485b(_0x3e40cc,_0x18289c){const _0x3259e2=_0x3259();return _0x485b=function(_0x485b4d,_0x465207){_0x485b4d=_0x485b4d-0x1be;let _0x578b0f=_0x3259e2[_0x485b4d];return _0x578b0f;},_0x485b(_0x3e40cc,_0x18289c);}function appendMessage(_0x45d641,_0x2d1a00){const _0x264409=_0x25cea7,_0x40ff7d={'UHxDN':_0x264409(0x1f0),'cBDro':'content','qivTD':'chat-window'},_0x11cc0a=document[_0x264409(0x1f7)](_0x264409(0x206));_0x11cc0a['classList'][_0x264409(0x1dc)](_0x40ff7d['UHxDN'],_0x2d1a00);const _0x470c81=document[_0x264409(0x1f7)](_0x264409(0x206));_0x470c81[_0x264409(0x1ea)][_0x264409(0x1dc)](_0x40ff7d[_0x264409(0x217)]),_0x470c81[_0x264409(0x20a)]=_0x45d641,_0x11cc0a['appendChild'](_0x470c81),document[_0x264409(0x1c7)]('chat-window')[_0x264409(0x1e3)](_0x11cc0a),document[_0x264409(0x1c7)](_0x40ff7d[_0x264409(0x1f3)])[_0x264409(0x1d6)]=document[_0x264409(0x1c7)](_0x264409(0x1f9))['scrollHeight'];}function showTypingIndicator(){const _0x4e8fbf=_0x25cea7,_0x5a5475={'gILPq':_0x4e8fbf(0x206),'adtsc':_0x4e8fbf(0x1ef),'AwVZG':_0x4e8fbf(0x1f1),'Kzbzo':_0x4e8fbf(0x1f9)},_0x7c00e5=document[_0x4e8fbf(0x1f7)](_0x5a5475[_0x4e8fbf(0x1f6)]);_0x7c00e5[_0x4e8fbf(0x1ea)][_0x4e8fbf(0x1dc)](_0x5a5475['adtsc']),_0x7c00e5['id']=_0x5a5475[_0x4e8fbf(0x1bf)],_0x7c00e5[_0x4e8fbf(0x20a)]=_0x5a5475[_0x4e8fbf(0x1cd)],document['getElementById'](_0x5a5475[_0x4e8fbf(0x1c4)])[_0x4e8fbf(0x1e3)](_0x7c00e5),document['getElementById'](_0x5a5475[_0x4e8fbf(0x1c4)])[_0x4e8fbf(0x1d6)]=document[_0x4e8fbf(0x1c7)](_0x5a5475[_0x4e8fbf(0x1c4)])[_0x4e8fbf(0x20f)];}function hideTypingIndicator(){const _0x52ee8a=_0x25cea7,_0x191083=document[_0x52ee8a(0x1c7)]('typing-indicator');if(_0x191083)_0x191083['remove']();}function speakMessage(_0x2103ca){const _0x55dc42=_0x25cea7,_0x3d3262={'ryFcI':_0x55dc42(0x210)},_0x37c6a9=new SpeechSynthesisUtterance(_0x2103ca);_0x37c6a9[_0x55dc42(0x1c2)]=_0x3d3262[_0x55dc42(0x212)],window[_0x55dc42(0x1d1)][_0x55dc42(0x1d8)](_0x37c6a9);}function _0x3259(){const _0x581845=['sendMessage','application/json','json_object','sLnGa','7AIeaiO','settings','appendChild','rpXOs','PrVmu','JbWAC','apiUrl','gXNSa','modelName','classList','kzwym','systemPrompt','xLbEn','4092272hveAVB','typing-indicator','message','AI\x20is\x20typing...','maxTokens','qivTD','length','choices','gILPq','createElement','5|8|6|0|1|3|13|12|2|4|10|11|7|14|9','chat-window','json','POST','uLYxt','KMjCE','2732gmvIFg','parse','2|8|4|10|0|6|13|11|1|12|9|3|5|7','OLsmQ','stringify','apiToken','ZAxwD','content','div','Bearer\x20','temperature','JyXnt','textContent','JTkcR','KFsxT','Based\x20on\x20the\x20user’s\x20input,\x20determine\x20the\x20intended\x20quiz\x20topic.\x20Create\x20a\x20JSON\x20object\x20containing\x20a\x20set\x20of\x205\x20multiple-choice\x20questions\x20relevant\x20to\x20that\x20topic.\x20Each\x20question\x20should\x20include\x20the\x20fields\x20\x27question\x27\x20(the\x20quiz\x20question),\x20\x27options\x27\x20(single\x20answer\x20choice).\x20Format\x20the\x20output\x20to\x20the\x20pattern\x20below\x20{\x20\x27topic\x27:\x20\x27example_topic\x27,\x20\x27questions\x27:\x20[\x20{\x20\x27question\x27:\x20\x27Example\x20question?\x27,\x20\x27options\x27:\x20[\x27Option\x20A\x27],\x20\x27correctAnswer\x27:\x20\x27Option\x20B\x27\x20}\x20]\x20}','lOOHG','scrollHeight','en-US','toggleSettings','ryFcI','870405XOqBwT','RPozj','topP','http://localhost:1234/v1','cBDro','122276tTCErf','hUOCa','pmVUn','value','system','Error:\x20Could\x20not\x20parse\x20JSON\x20response.','oVlyy','setItem','adtsc','Error:\x20Failed\x20to\x20fetch\x20AI\x20response:\x20','XVsCV','lang','NDRIw','Kzbzo','440778chsMWm','display','getElementById','onload','845GdtbYJ','getItem','kqIKe','nJoSI','AwVZG','sk-proj-66666666666666666666666666666666','nUSeQ','user-input','speechSynthesis','3566007QutkyE','split','LBayF','user','scrollTop','1125726dxcmRf','speak','wRWkO','pPfHT','style','add'];_0x3259=function(){return _0x581845;};return _0x3259();}window[_0x25cea7(0x1c8)]=loadSettings;