
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
function _0x4295(){const _0x4090b4=['assistant','rrzvr','questionLoaded','gglog','playPauseButton','message\x20assistant\x20typing','trim','.countdown','16683468yUlkCE','qoeux','MFJdY','qlkad','typingIndicator','APZMN','BFjYd','returnedToChat','textContent','classList','quizStarted','Loaded\x20question\x20','yoXwf','290912cszRQh','KEVsM','QlkRh','5341378xYkWSt','rITAF','845658GCjszf','newChatButton','226516kFFPWf','display','errorMessage','ERgVD','YabYz','9CafZls','9QHJReS','gYrtV','qwfQE','LbMTX','Please\x20enter\x20quiz\x20questions\x20and\x20answers.','parseQuizQuestions','updateUserAnswer','add','zuUNO','JSFFd','flex','AoXnk','error','NbAiu','IlBrW','question','<pre><code>$1</code></pre>','index','settingsButton','10JQBXZN','uerpw','ZjdfF','focus','welcomeScreen','message\x20','10iInyAX','LgLIj','addEventListener','Tpmfb','<br>','MvHjF','content','scrollTop','Cqaxq','none','createElement','style','10863149ndXGZM','value','Failed\x20to\x20initialize\x20AI:','.input-container','catch','<i\x20class=\x22fas\x20fa-play\x22></i>','1456afbMti','forEach','div','hNsin','sendButton','autoAdvancePrompt','click','getElementById','JKqHl','remove','lgSGx','autoAdvanceTimeout','messagesContainer','then','cCJMo','<em>$1</em>','RfDRb','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','handleSilence','RJqRr','isPaused','startQuizButton','user','<i\x20class=\x22fas\x20fa-pause\x22></i>','nextQuestion','SJUMR','appendChild','messageInput','innerHTML','micButton','GzyCd','GFaoE','replace','Invalid\x20quiz\x20format.','ckDio','uAQbh','AI\x20Language\x20Session\x20initialized\x20successfully','log','xYpen','lQKxa','className','quizCompleted','length','recording','oKyhh','CEOEz','xiIIt','uROIG','pPyvD','chatContainer','vAWTi','querySelector','3153uANVHS'];_0x4295=function(){return _0x4090b4;};return _0x4295();}function _0x7197(_0x4d434c,_0xcaafc1){const _0x4295f0=_0x4295();return _0x7197=function(_0x719794,_0x5f462a){_0x719794=_0x719794-0x10e;let _0x30eb8c=_0x4295f0[_0x719794];return _0x30eb8c;},_0x7197(_0x4d434c,_0xcaafc1);}(function(_0x24fa6f,_0xf3ea1d){const _0x1b705b=_0x7197,_0x335d46=_0x24fa6f();while(!![]){try{const _0x4efc0f=parseInt(_0x1b705b(0x113))/0x1*(parseInt(_0x1b705b(0x10e))/0x2)+-parseInt(_0x1b705b(0x173))/0x3*(parseInt(_0x1b705b(0x13f))/0x4)+parseInt(_0x1b705b(0x127))/0x5*(parseInt(_0x1b705b(0x18e))/0x6)+-parseInt(_0x1b705b(0x18c))/0x7+parseInt(_0x1b705b(0x189))/0x8*(-parseInt(_0x1b705b(0x114))/0x9)+parseInt(_0x1b705b(0x12d))/0xa*(-parseInt(_0x1b705b(0x139))/0xb)+parseInt(_0x1b705b(0x17c))/0xc;if(_0x4efc0f===_0xf3ea1d)break;else _0x335d46['push'](_0x335d46['shift']());}catch(_0x3bb366){_0x335d46['push'](_0x335d46['shift']());}}}(_0x4295,0x7f6e4));import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';import _0x4e4eac from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';import{BaseConversationManager}from'./BaseConversationManager.js';import{displayError,Logger}from'./common.js';import{aiLanguageSession,initializeLanguageSession}from'./aiCommon.js';import{SpeechProcessor}from'./speechProcessor.js';import{QuizManager}from'./quizManager.js';((async()=>{const _0x1e3354=_0x7197,_0x1f8c75={'RVACW':_0x1e3354(0x163),'qlkad':_0x1e3354(0x13b),'aClyr':function(_0x1592af,_0x3be957){return _0x1592af(_0x3be957);},'RJqRr':'Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.','IlBrW':function(_0x54b358,_0x568ca5){return _0x54b358(_0x568ca5);},'JSFFd':_0x1e3354(0x118),'xiIIt':function(_0xa7f205,_0x504fe9){return _0xa7f205===_0x504fe9;},'CEOEz':_0x1e3354(0x160),'MFJdY':_0x1e3354(0x176),'jawoa':_0x1e3354(0x168),'Tpmfb':_0x1e3354(0x183),'ufFDp':function(_0x297500){return _0x297500();},'AoXnk':_0x1e3354(0x141),'gglog':_0x1e3354(0x179),'ZjdfF':_0x1e3354(0x180),'oKyhh':_0x1e3354(0x150),'WrbSH':'<strong>$1</strong>','oTnYM':_0x1e3354(0x14e),'cCJMo':_0x1e3354(0x131),'BFjYd':_0x1e3354(0x136),'AIqmv':_0x1e3354(0x11e),'mbJPB':_0x1e3354(0x155),'SJUMR':_0x1e3354(0x174),'pPyvD':function(_0x357ea3){return _0x357ea3();},'yoXwf':function(_0x331d4e){return _0x331d4e();},'NbAiu':_0x1e3354(0x13e),'GFaoE':_0x1e3354(0x156),'KEVsM':function(_0x3c6b89){return _0x3c6b89();},'LbMTX':function(_0x2305f2){return _0x2305f2();},'gYrtV':function(_0x42cbfb,_0x40efbd){return _0x42cbfb>=_0x40efbd;},'uerpw':_0x1e3354(0x17b),'APZMN':function(_0x47f3fe,_0xa3484){return _0x47f3fe(_0xa3484);},'hNsin':function(_0x175837,_0x5ae2af){return _0x175837(_0x5ae2af);},'JKqHl':function(_0x1ca62e,_0x1e49dd,_0x1137e4){return _0x1ca62e(_0x1e49dd,_0x1137e4);},'ASkKG':_0x1e3354(0x12b),'uAQbh':_0x1e3354(0x170),'LgLIj':_0x1e3354(0x14b),'vAWTi':_0x1e3354(0x15a),'ckDio':_0x1e3354(0x15c),'YabYz':_0x1e3354(0x110),'QlkRh':'loader','ERgVD':_0x1e3354(0x18f),'gWNTL':_0x1e3354(0x126),'GzyCd':'quizInput','qoeux':_0x1e3354(0x154),'RfDRb':_0x1e3354(0x144),'eooHt':'DOMContentLoaded'};let _0x1a82e2,_0xd8f26a=null;const _0x229f71=document[_0x1e3354(0x146)](_0x1f8c75['ASkKG']),_0x534315=document[_0x1e3354(0x146)](_0x1f8c75[_0x1e3354(0x162)]),_0x42e276=document[_0x1e3354(0x146)](_0x1f8c75[_0x1e3354(0x12e)]),_0x292381=document[_0x1e3354(0x146)](_0x1f8c75[_0x1e3354(0x171)]),_0x236f83=document[_0x1e3354(0x146)](_0x1e3354(0x143)),_0x190b91=document[_0x1e3354(0x146)](_0x1f8c75[_0x1e3354(0x161)]),_0x469bdd=document['getElementById'](_0x1f8c75[_0x1e3354(0x112)]),_0x309891=document[_0x1e3354(0x146)](_0x1f8c75[_0x1e3354(0x18b)]),_0x19787a=document[_0x1e3354(0x146)](_0x1f8c75[_0x1e3354(0x111)]),_0x4e3201=document[_0x1e3354(0x146)](_0x1f8c75['gWNTL']),_0x5bd97f=document[_0x1e3354(0x172)](_0x1e3354(0x13c)),_0x2d4627=document[_0x1e3354(0x146)](_0x1f8c75[_0x1e3354(0x15d)]),_0x1cd81c=document[_0x1e3354(0x146)](_0x1f8c75[_0x1e3354(0x17d)]),_0x1864ee=document[_0x1e3354(0x146)](_0x1e3354(0x178)),_0x30cebd=document[_0x1e3354(0x146)](_0x1f8c75[_0x1e3354(0x14f)]);document['addEventListener'](_0x1f8c75['eooHt'],()=>{const _0x1c7afc=_0x1e3354,_0x483a31={'qwfQE':_0x1f8c75[_0x1c7afc(0x17f)],'lQKxa':function(_0x2d7163,_0x3e2c42){return _0x1f8c75['aClyr'](_0x2d7163,_0x3e2c42);},'rITAF':_0x1f8c75[_0x1c7afc(0x152)],'Cqaxq':function(_0x117118,_0x33e933){const _0x3b261c=_0x1c7afc;return _0x1f8c75[_0x3b261c(0x122)](_0x117118,_0x33e933);},'MvHjF':_0x1f8c75[_0x1c7afc(0x11d)],'xYpen':function(_0x21b66e,_0x38c1d9){const _0x195f47=_0x1c7afc;return _0x1f8c75[_0x195f47(0x16d)](_0x21b66e,_0x38c1d9);},'hTFXu':_0x1f8c75[_0x1c7afc(0x16c)]};_0x1864ee?.['addEventListener']('click',_0x1f6c5d);const _0x287e1b=new BaseConversationManager();_0x1a82e2=new QuizManager({'showAutoAdvancePrompt':()=>_0x1f39a8()});let _0x29be47;function _0x1c9cc0(){const _0x161066=_0x1c7afc;_0x29be47=new SpeechProcessor({'onResult':(_0x42b573,_0x13caf0)=>{const _0x3f26f0=_0x7197;_0x1a82e2[_0x3f26f0(0x11a)](_0x42b573,_0x13caf0);},'onError':_0x1d035d=>displayError(_0x1d035d),'onSilence':_0x5aeb9b=>_0x1a82e2[_0x161066(0x151)](_0x5aeb9b),'onRecordingStart':()=>_0x190b91?.[_0x161066(0x185)][_0x161066(0x11b)](_0x161066(0x16a)),'onRecordingStop':()=>_0x190b91?.[_0x161066(0x185)][_0x161066(0x148)](_0x161066(0x16a)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}initializeLanguageSession()[_0x1c7afc(0x14c)](()=>{const _0xfb9ab1=_0x1c7afc;console[_0xfb9ab1(0x164)](_0x1f8c75['RVACW']);})[_0x1c7afc(0x13d)](_0x18a777=>{const _0x5799cf=_0x1c7afc;console[_0x5799cf(0x120)](_0x483a31[_0x5799cf(0x116)],_0x18a777),_0x483a31[_0x5799cf(0x166)](displayError,_0x483a31[_0x5799cf(0x18d)]);}),_0x1a82e2['init'](),_0x1cd81c?.[_0x1c7afc(0x12f)](_0x1c7afc(0x145),()=>{const _0x109ff3=_0x1c7afc,_0x537878=_0x2d4627[_0x109ff3(0x13a)][_0x109ff3(0x17a)]();if(!_0x537878){_0x483a31[_0x109ff3(0x135)](displayError,_0x483a31[_0x109ff3(0x132)]);return;}const _0x53c103=_0x1a82e2[_0x109ff3(0x119)](_0x537878);if(!_0x53c103||_0x483a31[_0x109ff3(0x165)](_0x53c103['length'],0x0)){_0x483a31[_0x109ff3(0x166)](displayError,_0x483a31['hTFXu']);return;}_0x1a82e2['startQuiz'](_0x53c103);}),_0x1a82e2['on'](_0x1c7afc(0x186),_0x577977=>console[_0x1c7afc(0x164)]('Quiz\x20started\x20with\x20'+_0x577977[_0x1c7afc(0x169)]+'\x20questions')),_0x1a82e2['on'](_0x1f8c75[_0x1c7afc(0x17e)],_0x10aa67=>console[_0x1c7afc(0x164)](_0x1c7afc(0x187)+(_0x10aa67[_0x1c7afc(0x125)]+0x1)+':\x20'+_0x10aa67[_0x1c7afc(0x123)][_0x1c7afc(0x123)])),_0x1a82e2['on'](_0x1f8c75['jawoa'],_0x1761d0=>console[_0x1c7afc(0x164)]('Quiz\x20completed:',_0x1761d0)),_0x1a82e2['on'](_0x1f8c75[_0x1c7afc(0x130)],()=>console[_0x1c7afc(0x164)]('Returned\x20to\x20chat\x20interface')),_0x1f8c75['ufFDp'](_0x1c9cc0);});function _0x36a106(){const _0x195ff3=_0x1e3354;if(!_0x42e276)return;const _0x202c01=document[_0x195ff3(0x137)](_0x1f8c75[_0x195ff3(0x11f)]);_0x202c01[_0x195ff3(0x167)]=_0x1f8c75[_0x195ff3(0x177)],_0x202c01['id']=_0x1f8c75[_0x195ff3(0x129)],_0x202c01[_0x195ff3(0x15b)]=_0x1f8c75[_0x195ff3(0x16b)],_0x42e276['appendChild'](_0x202c01),_0x42e276[_0x195ff3(0x134)]=_0x42e276['scrollHeight'];}function _0x356f48(){const _0x1cc42a=_0x1e3354;document['getElementById'](_0x1f8c75['ZjdfF'])?.[_0x1cc42a(0x148)]();}function _0x5f4527(_0x361d50){const _0x56f431=_0x1e3354;return _0x361d50[_0x56f431(0x15f)](/\*\*(.*?)\*\*/g,_0x1f8c75['WrbSH'])['replace'](/\*(.*?)\*/g,_0x1f8c75['oTnYM'])['replace'](/\n/g,_0x1f8c75[_0x56f431(0x14d)])[_0x56f431(0x15f)](/```([\s\S]*?)```/g,_0x56f431(0x124));}function _0x2d1f89(){const _0x2e1f14=_0x1e3354;if(_0x229f71)_0x229f71['style']['display']=_0x1f8c75[_0x2e1f14(0x182)];if(_0x534315)_0x534315[_0x2e1f14(0x138)][_0x2e1f14(0x10f)]=_0x2e1f14(0x11e);if(_0x5bd97f)_0x5bd97f[_0x2e1f14(0x138)][_0x2e1f14(0x10f)]=_0x1f8c75['AIqmv'];if(_0x292381)_0x292381[_0x2e1f14(0x12a)]();}function _0x116b9e(_0x316a2e){const _0x25b33e=_0x1e3354,_0x1dac03={'uROIG':function(_0x260b2a,_0xce1bd7){const _0x170c52=_0x7197;return _0x1f8c75[_0x170c52(0x16d)](_0x260b2a,_0xce1bd7);},'rrzvr':_0x1f8c75['mbJPB'],'zuUNO':_0x1f8c75[_0x25b33e(0x158)]};if(!_0x42e276)return;const _0x3d536b=document[_0x25b33e(0x146)]('typingIndicator');_0x42e276['innerHTML']='',_0x316a2e[_0x25b33e(0x140)](_0x525c2c=>{const _0x2eebd2=_0x25b33e,_0x6078ac=document[_0x2eebd2(0x137)](_0x2eebd2(0x141));_0x6078ac[_0x2eebd2(0x167)]=_0x2eebd2(0x12c)+(_0x1dac03[_0x2eebd2(0x16e)](_0x525c2c['role'],_0x1dac03[_0x2eebd2(0x175)])?_0x2eebd2(0x155):_0x1dac03[_0x2eebd2(0x11c)]),_0x6078ac[_0x2eebd2(0x15b)]=_0x5f4527(_0x525c2c[_0x2eebd2(0x133)]),_0x42e276[_0x2eebd2(0x159)](_0x6078ac);});if(_0x3d536b)_0x42e276['appendChild'](_0x3d536b);_0x42e276['scrollTop']=_0x42e276['scrollHeight'];}function _0x1f6c5d(){const _0x205f40=_0x1e3354;_0x1a82e2['isPaused']=!_0x1a82e2['isPaused'],_0x1f8c75[_0x205f40(0x16f)](_0x2203f8);if(!_0x1a82e2[_0x205f40(0x153)])_0x1f8c75[_0x205f40(0x188)](_0x15a576);else clearInterval(_0xd8f26a),_0x1f8c75[_0x205f40(0x122)](clearTimeout,_0x1a82e2[_0x205f40(0x14a)]);}function _0x2203f8(){const _0x4a9fbf=_0x1e3354;_0x1864ee[_0x4a9fbf(0x15b)]=_0x1a82e2[_0x4a9fbf(0x153)]?_0x1f8c75[_0x4a9fbf(0x121)]:_0x1f8c75[_0x4a9fbf(0x15e)];}function _0x1f39a8(){const _0x3069ad=_0x1e3354;_0x30cebd['querySelector']('.countdown')['textContent']='2',_0x30cebd[_0x3069ad(0x138)][_0x3069ad(0x10f)]='flex',_0x1a82e2[_0x3069ad(0x153)]=![],_0x1f8c75[_0x3069ad(0x18a)](_0x2203f8),_0x1f8c75[_0x3069ad(0x117)](_0x15a576);}function _0x15a576(){const _0x33b76a=_0x1e3354,_0xcbef95={'zTNDJ':function(_0x2fece8,_0x3335cf){const _0x48cf5d=_0x7197;return _0x1f8c75[_0x48cf5d(0x115)](_0x2fece8,_0x3335cf);},'lgSGx':_0x1f8c75[_0x33b76a(0x128)]};let _0x296cd0=0x1;_0x1f8c75[_0x33b76a(0x181)](clearInterval,_0xd8f26a),_0x1f8c75[_0x33b76a(0x142)](clearTimeout,_0x1a82e2['autoAdvanceTimeout']),_0xd8f26a=setInterval(()=>{const _0x551a97=_0x33b76a;!_0x1a82e2[_0x551a97(0x153)]&&(_0x296cd0--,_0xcbef95['zTNDJ'](_0x296cd0,0x0)?_0x30cebd['querySelector'](_0xcbef95[_0x551a97(0x149)])[_0x551a97(0x184)]=_0x296cd0:clearInterval(_0xd8f26a));},0x3e8),_0x1a82e2[_0x33b76a(0x14a)]=_0x1f8c75[_0x33b76a(0x147)](setTimeout,()=>{const _0x4aeb6b=_0x33b76a;!_0x1a82e2[_0x4aeb6b(0x153)]&&(_0x30cebd[_0x4aeb6b(0x138)][_0x4aeb6b(0x10f)]=_0x4aeb6b(0x136),_0x1a82e2[_0x4aeb6b(0x157)]());},0x3e8);}})());